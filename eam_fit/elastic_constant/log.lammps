LAMMPS (15 Jun 2023)
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
Loaded 1 plugins from D:\Program Files (x86)\LAMMPS 64-bit 15Jun2023\plugins
# Compute elastic constant tensor for a crystal
#
# Written by Aidan Thompson (Sandia, athomps@sandia.gov)
#
#  This script uses the following three include files.
#
#   init.mod      (must be modified for different crystal structures)
# 	       	  Define units, deformation parameters and initial
#		  configuration of the atoms and simulation cell.
#
#
#   potential.mod    (must be modified for different pair styles)
# 		     Define pair style and other attributes
#		     not stored in restart file
#
#
#   displace.mod    (displace.mod should not need to be modified)
# 		    Perform positive and negative box displacements
# 		    in direction ${dir} and size ${up}.
# 		    It uses the resultant changes
#		    in stress to compute one
# 		    row of the elastic stiffness tensor
#
#		    Inputs variables:
#		    	   dir = the Voigt deformation component
#		    		    (1,2,3,4,5,6)
#		    Global constants:
#       	    	   up = the deformation magnitude (strain units)
#       		   cfac = conversion from LAMMPS pressure units to
#               	   output units for elastic constants
#
#
#  To run this on a different system, it should only be necessary to
#  modify the files init.mod and potential.mod. In order to calculate
#  the elastic constants correctly, care must be taken to specify
#  the correct units in init.mod (units, cfac and cunits). It is also
#  important to verify that the minimization of energy w.r.t atom
#  positions in the deformed cell is fully converged.
#  One indication of this is that the elastic constants are insensitive
#  to the choice of the variable ${up} in init.mod. Another is to check
#  the final max and two-norm forces reported in the log file. If you know
#  that minimization is not required, you can set maxiter = 0.0 in
#  init.mod.
#
clear
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
Loaded 1 plugins from D:\Program Files (x86)\LAMMPS 64-bit 15Jun2023\plugins
include ../elastic_constant/init.mod
# NOTE: This script can be modified for different atomic structures,
# units, etc. See in.elastic for more info.
#

# Define the finite deformation size. Try several values of this
# variable to verify that results do not depend on it.
variable up equal 1.0e-6

# Define the amount of random jiggle for atoms
# This prevents atoms from staying on saddle points
variable atomjiggle equal 1.0e-5

# Uncomment one of these blocks, depending on what units
# you are using in LAMMPS and for output

# metal units, elastic constants in eV/A^3
#units		metal
#variable cfac equal 6.2414e-7
#variable cunits string eV/A^3

# metal units, elastic constants in GPa
units		metal
variable cfac equal 1.0e-4
variable cunits string GPa

# real units, elastic constants in GPa
#units		real
#variable cfac equal 1.01325e-4
#variable cunits string GPa

# Define minimization parameters
variable etol equal 0.0
variable ftol equal 1.0e-10
variable maxiter equal 100
variable maxeval equal 1000
variable dmax equal 1.0e-2

# generate the box and atom positions using a diamond lattice
variable a equal 3.028

boundary	p p p

lattice         bcc $a
lattice         bcc 3.028
Lattice spacing in x,y,z = 3.028 3.028 3.028
region		box block 0 4 0 4 0 4 units lattice
create_box	1 box
Created orthogonal box = (0 0 0) to (12.112 12.112 12.112)
  1 by 1 by 1 MPI processor grid
create_atoms	1 box
Created 128 atoms
  using lattice units in orthogonal box = (0 0 0) to (12.112 12.112 12.112)
  create_atoms CPU = 0.000 seconds
change_box all triclinic
Changing box ...
  triclinic box = (0 0 0) to (12.112 12.112 12.112) with tilt (0 0 0)

# Need to set mass to something, just to satisfy LAMMPS
mass 1 1.0e-20

include ../elastic_constant/potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# Choose potential
pair_style	eam/alloy
pair_coeff * * ../V.eam.alloy V
Reading eam/alloy potential file ../V.eam.alloy with DATE: 2025-04-20

# Setup neighbor style
neighbor 1.0 nsq
neigh_modify once no every 1 delay 0 check yes

# Setup minimization style
min_style	     cg
min_modify	     dmax ${dmax} line quadratic
min_modify	     dmax 0.01 line quadratic

# Setup output
thermo		1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Compute initial state
fix 3 all box/relax  aniso 0.0
minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 5.7908507
  ghost atom cutoff = 5.7908507
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/nsq/newton
      stencil: none
      bin: none
WARNING: Energy due to 3 extra global DOFs will be included in minimizer energies
 (src/min.cpp:225)
Per MPI rank memory allocation (min/avg/max) = 4.444 | 4.444 | 4.444 Mbytes
   Step          Temp          PotEng         Press           Pxx            Pyy            Pzz            Pxy            Pxz            Pyz             Lx             Ly             Lz           Volume    
         0   0             -679.68127     -517.65835     -517.65835     -517.65835     -517.65835     -5.9752543e-12 -1.8989421e-11  3.8743736e-11  12.112         12.112         12.112         1776.837     
         1   0             -679.68137     -46.77118      -46.77118      -46.77118      -46.77118      -1.4107083e-11 -1.0940187e-11 -7.2843307e-12  12.110789      12.110789      12.110789      1776.304     
         2   0             -679.68137     -0.019143185   -0.019143185   -0.019143185   -0.019143185   -1.7424707e-11  2.6036918e-12 -1.3652952e-11  12.110669      12.110669      12.110669      1776.2511    
         3   0             -679.68137     -1.8451896e-06 -1.84519e-06   -1.8451905e-06 -1.8451884e-06  1.0083047e-11  4.3812122e-14 -8.6117419e-11  12.110669      12.110669      12.110669      1776.2511    
         4   0             -679.68137      2.1913832e-10  2.0613447e-10  2.211589e-10   2.301216e-10  -1.0765264e-12 -2.0604215e-11  1.5817741e-11  12.110669      12.110669      12.110669      1776.2511    
Loop time of 0.000844 on 1 procs for 4 steps with 128 atoms

0.0% CPU use with 1 MPI tasks x 1 OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -679.681271471127  -679.681366147612  -679.681366147628
  Force two-norm initial, final = 0.99435412 4.404018e-13
  Force max component initial, final = 0.57409062 2.5515209e-13
  Final line search alpha, max atom move = 1 2.5515209e-13
  Iterations, force evaluations = 4 7

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.000414   | 0.000414   | 0.000414   |   0.0 | 49.05
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 1.6e-05    | 1.6e-05    | 1.6e-05    |   0.0 |  1.90
Output  | 0.0002     | 0.0002     | 0.0002     |   0.0 | 23.70
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 0.000214   |            |       | 25.36

Nlocal:            128 ave         128 max         128 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:            727 ave         727 max         727 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:           3712 ave        3712 max        3712 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 3712
Ave neighs/atom = 29
Neighbor list builds = 0
Dangerous builds = 0

variable tmp equal pxx
variable pxx0 equal ${tmp}
variable pxx0 equal 2.06134468180891e-10
variable tmp equal pyy
variable pyy0 equal ${tmp}
variable pyy0 equal 2.21158896508744e-10
variable tmp equal pzz
variable pzz0 equal ${tmp}
variable pzz0 equal 2.3012160484675e-10
variable tmp equal pyz
variable pyz0 equal ${tmp}
variable pyz0 equal 1.58177406754367e-11
variable tmp equal pxz
variable pxz0 equal ${tmp}
variable pxz0 equal -2.06042149781531e-11
variable tmp equal pxy
variable pxy0 equal ${tmp}
variable pxy0 equal -1.07652642048674e-12

variable tmp equal lx
variable lx0 equal ${tmp}
variable lx0 equal 12.1106685832227
variable tmp equal ly
variable ly0 equal ${tmp}
variable ly0 equal 12.1106685832227
variable tmp equal lz
variable lz0 equal ${tmp}
variable lz0 equal 12.1106685832227

# These formulas define the derivatives w.r.t. strain components
# Constants uses $, variables use v_
variable d1 equal -(v_pxx1-${pxx0})/(v_delta/v_len0)*${cfac}
variable d1 equal -(v_pxx1-2.06134468180891e-10)/(v_delta/v_len0)*${cfac}
variable d1 equal -(v_pxx1-2.06134468180891e-10)/(v_delta/v_len0)*0.0001
variable d2 equal -(v_pyy1-${pyy0})/(v_delta/v_len0)*${cfac}
variable d2 equal -(v_pyy1-2.21158896508744e-10)/(v_delta/v_len0)*${cfac}
variable d2 equal -(v_pyy1-2.21158896508744e-10)/(v_delta/v_len0)*0.0001
variable d3 equal -(v_pzz1-${pzz0})/(v_delta/v_len0)*${cfac}
variable d3 equal -(v_pzz1-2.3012160484675e-10)/(v_delta/v_len0)*${cfac}
variable d3 equal -(v_pzz1-2.3012160484675e-10)/(v_delta/v_len0)*0.0001
variable d4 equal -(v_pyz1-${pyz0})/(v_delta/v_len0)*${cfac}
variable d4 equal -(v_pyz1-1.58177406754367e-11)/(v_delta/v_len0)*${cfac}
variable d4 equal -(v_pyz1-1.58177406754367e-11)/(v_delta/v_len0)*0.0001
variable d5 equal -(v_pxz1-${pxz0})/(v_delta/v_len0)*${cfac}
variable d5 equal -(v_pxz1--2.06042149781531e-11)/(v_delta/v_len0)*${cfac}
variable d5 equal -(v_pxz1--2.06042149781531e-11)/(v_delta/v_len0)*0.0001
variable d6 equal -(v_pxy1-${pxy0})/(v_delta/v_len0)*${cfac}
variable d6 equal -(v_pxy1--1.07652642048674e-12)/(v_delta/v_len0)*${cfac}
variable d6 equal -(v_pxy1--1.07652642048674e-12)/(v_delta/v_len0)*0.0001

displace_atoms all random ${atomjiggle} ${atomjiggle} ${atomjiggle} 87287 units box
displace_atoms all random 1e-05 ${atomjiggle} ${atomjiggle} 87287 units box
displace_atoms all random 1e-05 1e-05 ${atomjiggle} 87287 units box
displace_atoms all random 1e-05 1e-05 1e-05 87287 units box
Displacing atoms ...

# Write restart
unfix 3
write_restart ../elastic_constant/restart.equil
System init for write_restart ...

# uxx Perturbation

variable dir equal 1
include ../elastic_constant/displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
#
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
variable len0 equal ${lx0}
variable len0 equal 12.1106685832227
if "${dir} == 2" then    "variable len0 equal ${ly0}"
if "${dir} == 3" then    "variable len0 equal ${lz0}"
if "${dir} == 4" then    "variable len0 equal ${lz0}"
if "${dir} == 5" then    "variable len0 equal ${lz0}"
if "${dir} == 6" then    "variable len0 equal ${ly0}"

# Reset box and simulation parameters

clear
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
Loaded 1 plugins from D:\Program Files (x86)\LAMMPS 64-bit 15Jun2023\plugins
box tilt large

The 'box' command has been removed and will be ignored

read_restart ../elastic_constant/restart.equil
Reading restart file ...
  restart file = 15 Jun 2023, LAMMPS = 15 Jun 2023
  restoring atom style atomic from restart
  triclinic box = (0.00066570839 0.00066570839 0.00066570839) to (12.111334 12.111334 12.111334) with tilt (0 0 0)
  1 by 1 by 1 MPI processor grid
  pair style eam/alloy stores no restart info
  128 atoms
  read_restart CPU = 0.001 seconds
include ../elastic_constant/potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# Choose potential
pair_style	eam/alloy
pair_coeff * * ../V.eam.alloy V
Reading eam/alloy potential file ../V.eam.alloy with DATE: 2025-04-20

# Setup neighbor style
neighbor 1.0 nsq
neigh_modify once no every 1 delay 0 check yes

# Setup minimization style
min_style	     cg
min_modify	     dmax ${dmax} line quadratic
min_modify	     dmax 0.01 line quadratic

# Setup output
thermo		1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -1e-06*${len0}
variable delta equal -1e-06*12.1106685832227
variable deltaxy equal -${up}*xy
variable deltaxy equal -1e-06*xy
variable deltaxz equal -${up}*xz
variable deltaxz equal -1e-06*xz
variable deltayz equal -${up}*yz
variable deltayz equal -1e-06*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box
change_box all x delta 0 -1.21106685832227e-05 xy delta ${deltaxy} xz delta ${deltaxz} remap units box
change_box all x delta 0 -1.21106685832227e-05 xy delta -0 xz delta ${deltaxz} remap units box
change_box all x delta 0 -1.21106685832227e-05 xy delta -0 xz delta -0 remap units box
Changing box ...
  triclinic box = (0.00066570839 0.00066570839 0.00066570839) to (12.111322 12.111334 12.111334) with tilt (0 0 0)
  triclinic box = (0.00066570839 0.00066570839 0.00066570839) to (12.111322 12.111334 12.111334) with tilt (0 0 0)
  triclinic box = (0.00066570839 0.00066570839 0.00066570839) to (12.111322 12.111334 12.111334) with tilt (0 0 0)
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 5.7908507
  ghost atom cutoff = 5.7908507
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/nsq/newton
      stencil: none
      bin: none
Per MPI rank memory allocation (min/avg/max) = 4.44 | 4.44 | 4.44 Mbytes
   Step          Temp          PotEng         Press           Pxx            Pyy            Pzz            Pxy            Pxz            Pyz             Lx             Ly             Lz           Volume    
         4   0             -679.68137      1.5707273      2.3248581      1.1936505      1.1936732      8.6758226e-06  2.5119947e-06 -4.9044483e-06  12.110656      12.110669      12.110669      1776.2493    
         5   0             -679.68137      1.570684       2.3248172      1.1936189      1.1936159     -2.0419256e-07  4.5379368e-07 -7.0151627e-07  12.110656      12.110669      12.110669      1776.2493    
         6   0             -679.68137      1.5706844      2.3248149      1.1936192      1.1936192     -1.9404279e-07  2.6705391e-07 -5.9882563e-07  12.110656      12.110669      12.110669      1776.2493    
         7   0             -679.68137      1.5706839      2.3248145      1.1936186      1.1936186     -8.730391e-08   1.1317708e-07 -2.3112713e-07  12.110656      12.110669      12.110669      1776.2493    
         8   0             -679.68137      1.5706836      2.3248143      1.1936183      1.1936183     -3.6824134e-08  5.0733147e-08 -7.5328839e-08  12.110656      12.110669      12.110669      1776.2493    
         9   0             -679.68137      1.5706835      2.3248141      1.1936182      1.1936182     -1.3811543e-08  2.529909e-08  -2.2182324e-09  12.110656      12.110669      12.110669      1776.2493    
        10   0             -679.68137      1.5706834      2.3248141      1.1936181      1.1936181     -2.6340234e-09  4.7674245e-09 -1.43426e-09    12.110656      12.110669      12.110669      1776.2493    
        11   0             -679.68137      1.5706834      2.3248141      1.1936181      1.1936181     -1.4966666e-09  2.2218826e-09 -2.1672917e-09  12.110656      12.110669      12.110669      1776.2493    
        12   0             -679.68137      1.5706834      2.3248141      1.1936181      1.1936181     -3.205545e-10   4.9789489e-10 -9.0920458e-10  12.110656      12.110669      12.110669      1776.2493    
        13   0             -679.68137      1.5706834      2.3248141      1.1936181      1.1936181      4.0218303e-11  7.892522e-12  -2.0860012e-10  12.110656      12.110669      12.110669      1776.2493    
        14   0             -679.68137      1.5706834      2.3248141      1.1936181      1.1936181      6.1586409e-13  1.7117917e-12 -3.0082638e-11  12.110656      12.110669      12.110669      1776.2493    
        15   0             -679.68137      1.5706834      2.3248141      1.1936181      1.1936181      7.8570652e-12 -1.9528105e-11 -1.5120998e-11  12.110656      12.110669      12.110669      1776.2493    
        16   0             -679.68137      1.5706834      2.3248141      1.1936181      1.1936181      9.3250662e-12  7.1386631e-12 -1.0991713e-11  12.110656      12.110669      12.110669      1776.2493    
        17   0             -679.68137      1.5706834      2.3248141      1.1936181      1.1936181      4.0280054e-12 -3.4869178e-12  1.5364831e-11  12.110656      12.110669      12.110669      1776.2493    
        18   0             -679.68137      1.5706834      2.3248141      1.1936181      1.1936181     -5.5516395e-12  4.4441843e-12  2.0211051e-12  12.110656      12.110669      12.110669      1776.2493    
        19   0             -679.68137      1.5706834      2.3248141      1.1936181      1.1936181     -2.7354793e-12  1.7912899e-11 -1.3447548e-11  12.110656      12.110669      12.110669      1776.2493    
        20   0             -679.68137      1.5706834      2.3248141      1.1936181      1.1936181      5.8043112e-12 -9.2301011e-12  6.5616175e-12  12.110656      12.110669      12.110669      1776.2493    
        21   0             -679.68137      1.5706834      2.3248141      1.1936181      1.1936181      5.4547735e-12 -2.4550222e-11 -5.310098e-12   12.110656      12.110669      12.110669      1776.2493    
        22   0             -679.68137      1.5706834      2.3248141      1.1936181      1.1936181     -1.3330744e-11  7.4391871e-12 -6.7324959e-12  12.110656      12.110669      12.110669      1776.2493    
Loop time of 0.002836 on 1 procs for 18 steps with 128 atoms

0.0% CPU use with 1 MPI tasks x 1 OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
      -679.68136610991  -679.681366146337  -679.681366146346
  Force two-norm initial, final = 0.00074028686 7.1732134e-11
  Force max component initial, final = 9.5061794e-05 9.1274349e-12
  Final line search alpha, max atom move = 1 9.1274349e-12
  Iterations, force evaluations = 18 36

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.001712   | 0.001712   | 0.001712   |   0.0 | 60.37
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 3.9e-05    | 3.9e-05    | 3.9e-05    |   0.0 |  1.38
Output  | 0.00098    | 0.00098    | 0.00098    |   0.0 | 34.56
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 0.000105   |            |       |  3.70

Nlocal:            128 ave         128 max         128 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:            727 ave         727 max         727 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:           3712 ave        3712 max        3712 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 3712
Ave neighs/atom = 29
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal 2.32481405016984
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal 1.1936180919367
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal 1.19361809193703
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal -1.33307437560355e-11
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal 7.43918713837949e-12
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal -6.73249592968589e-12

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal 232.481404996371
variable C2neg equal ${d2}
variable C2neg equal 119.361809171554
variable C3neg equal ${d3}
variable C3neg equal 119.361809170691
variable C4neg equal ${d4}
variable C4neg equal -2.25502366051226e-09
variable C5neg equal ${d5}
variable C5neg equal 2.80434021165326e-09
variable C6neg equal ${d6}
variable C6neg equal -1.22542173355488e-09

# Reset box and simulation parameters

clear
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
Loaded 1 plugins from D:\Program Files (x86)\LAMMPS 64-bit 15Jun2023\plugins
box tilt large

The 'box' command has been removed and will be ignored

read_restart ../elastic_constant/restart.equil
Reading restart file ...
  restart file = 15 Jun 2023, LAMMPS = 15 Jun 2023
  restoring atom style atomic from restart
  triclinic box = (0.00066570839 0.00066570839 0.00066570839) to (12.111334 12.111334 12.111334) with tilt (0 0 0)
  1 by 1 by 1 MPI processor grid
  pair style eam/alloy stores no restart info
  128 atoms
  read_restart CPU = 0.001 seconds
include ../elastic_constant/potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# Choose potential
pair_style	eam/alloy
pair_coeff * * ../V.eam.alloy V
Reading eam/alloy potential file ../V.eam.alloy with DATE: 2025-04-20

# Setup neighbor style
neighbor 1.0 nsq
neigh_modify once no every 1 delay 0 check yes

# Setup minimization style
min_style	     cg
min_modify	     dmax ${dmax} line quadratic
min_modify	     dmax 0.01 line quadratic

# Setup output
thermo		1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 1e-06*${len0}
variable delta equal 1e-06*12.1106685832227
variable deltaxy equal ${up}*xy
variable deltaxy equal 1e-06*xy
variable deltaxz equal ${up}*xz
variable deltaxz equal 1e-06*xz
variable deltayz equal ${up}*yz
variable deltayz equal 1e-06*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box
change_box all x delta 0 1.21106685832227e-05 xy delta ${deltaxy} xz delta ${deltaxz} remap units box
change_box all x delta 0 1.21106685832227e-05 xy delta 0 xz delta ${deltaxz} remap units box
change_box all x delta 0 1.21106685832227e-05 xy delta 0 xz delta 0 remap units box
Changing box ...
  triclinic box = (0.00066570839 0.00066570839 0.00066570839) to (12.111346 12.111334 12.111334) with tilt (0 0 0)
  triclinic box = (0.00066570839 0.00066570839 0.00066570839) to (12.111346 12.111334 12.111334) with tilt (0 0 0)
  triclinic box = (0.00066570839 0.00066570839 0.00066570839) to (12.111346 12.111334 12.111334) with tilt (0 0 0)
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 5.7908507
  ghost atom cutoff = 5.7908507
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/nsq/newton
      stencil: none
      bin: none
Per MPI rank memory allocation (min/avg/max) = 4.44 | 4.44 | 4.44 Mbytes
   Step          Temp          PotEng         Press           Pxx            Pyy            Pzz            Pxy            Pxz            Pyz             Lx             Ly             Lz           Volume    
         4   0             -679.68137     -1.570637      -2.3247802     -1.1935768     -1.1935541      8.6758273e-06  2.5119156e-06 -4.9044531e-06  12.110681      12.110669      12.110669      1776.2529    
         5   0             -679.68137     -1.5706803     -2.3248211     -1.1936084     -1.1936115     -2.041768e-07   4.5377979e-07 -7.0152338e-07  12.110681      12.110669      12.110669      1776.2529    
         6   0             -679.68137     -1.5706799     -2.3248234     -1.1936082     -1.1936081     -1.9403086e-07  2.6704412e-07 -5.9882412e-07  12.110681      12.110669      12.110669      1776.2529    
         7   0             -679.68137     -1.5706804     -2.3248238     -1.1936088     -1.1936087     -8.731233e-08   1.1317038e-07 -2.3113899e-07  12.110681      12.110669      12.110669      1776.2529    
         8   0             -679.68137     -1.5706807     -2.324824      -1.193609      -1.193609      -3.6806465e-08  5.0717137e-08 -7.5335579e-08  12.110681      12.110669      12.110669      1776.2529    
         9   0             -679.68137     -1.5706808     -2.3248242     -1.1936092     -1.1936091     -1.3828055e-08  2.5322943e-08 -2.2329135e-09  12.110681      12.110669      12.110669      1776.2529    
        10   0             -679.68137     -1.5706809     -2.3248242     -1.1936092     -1.1936092     -2.6180689e-09  4.7357767e-09 -1.4223264e-09  12.110681      12.110669      12.110669      1776.2529    
        11   0             -679.68137     -1.5706809     -2.3248242     -1.1936092     -1.1936092     -1.4844574e-09  2.2359359e-09 -2.1826953e-09  12.110681      12.110669      12.110669      1776.2529    
        12   0             -679.68137     -1.5706809     -2.3248242     -1.1936092     -1.1936092     -3.065111e-10   4.7413583e-10 -9.1308397e-10  12.110681      12.110669      12.110669      1776.2529    
        13   0             -679.68137     -1.5706809     -2.3248242     -1.1936092     -1.1936092      1.220005e-11   5.0721221e-12 -2.1435522e-10  12.110681      12.110669      12.110669      1776.2529    
        14   0             -679.68137     -1.5706809     -2.3248242     -1.1936092     -1.1936092      1.0664849e-11 -1.3691183e-11 -1.5693532e-11  12.110681      12.110669      12.110669      1776.2529    
        15   0             -679.68137     -1.5706809     -2.3248242     -1.1936092     -1.1936092     -8.5661414e-12  3.7710537e-12 -2.8859739e-12  12.110681      12.110669      12.110669      1776.2529    
        16   0             -679.68137     -1.5706809     -2.3248242     -1.1936092     -1.1936092      1.7269159e-12  9.2588588e-12 -2.6024301e-12  12.110681      12.110669      12.110669      1776.2529    
        17   0             -679.68137     -1.5706809     -2.3248242     -1.1936092     -1.1936092      3.0199223e-12 -1.8591815e-11  1.5255991e-12  12.110681      12.110669      12.110669      1776.2529    
        18   0             -679.68137     -1.5706809     -2.3248242     -1.1936092     -1.1936092     -2.6231259e-12 -4.0371901e-12  2.0179245e-11  12.110681      12.110669      12.110669      1776.2529    
        19   0             -679.68137     -1.5706809     -2.3248242     -1.1936092     -1.1936092      7.0481091e-12 -6.7836597e-12  6.3295495e-12  12.110681      12.110669      12.110669      1776.2529    
        20   0             -679.68137     -1.5706809     -2.3248242     -1.1936092     -1.1936092     -8.3783264e-13  8.6070257e-12 -1.3659112e-11  12.110681      12.110669      12.110669      1776.2529    
        21   0             -679.68137     -1.5706809     -2.3248242     -1.1936092     -1.1936092      1.1065239e-12 -5.2357389e-12 -1.3326494e-11  12.110681      12.110669      12.110669      1776.2529    
        22   0             -679.68137     -1.5706809     -2.3248242     -1.1936092     -1.1936092     -8.2401363e-12  8.5253548e-12 -6.014094e-12   12.110681      12.110669      12.110669      1776.2529    
Loop time of 0.002392 on 1 procs for 18 steps with 128 atoms

653.2% CPU use with 1 MPI tasks x 1 OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -679.681366109909  -679.681366146337  -679.681366146338
  Force two-norm initial, final = 0.0007402839 7.5857877e-11
  Force max component initial, final = 9.5060754e-05 1.0875591e-11
  Final line search alpha, max atom move = 1 1.0875591e-11
  Iterations, force evaluations = 18 36

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.001446   | 0.001446   | 0.001446   |   0.0 | 60.45
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 5.5e-05    | 5.5e-05    | 5.5e-05    |   0.0 |  2.30
Output  | 0.000806   | 0.000806   | 0.000806   |   0.0 | 33.70
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 8.5e-05    |            |       |  3.55

Nlocal:            128 ave         128 max         128 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:            727 ave         727 max         727 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:           3712 ave        3712 max        3712 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 3712
Ave neighs/atom = 29
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pe
variable e1 equal ${tmp}
variable e1 equal -679.681366146338
variable tmp equal press
variable p1 equal ${tmp}
variable p1 equal -1.57068090293992
variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal -2.32482424405009
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal -1.19360923238678
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal -1.1936092323829
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal -8.24013625878279e-12
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal 8.52535484214611e-12
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal -6.01409396442839e-12

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal 232.482424425622
variable C2pos equal ${d2}
variable C2pos equal 119.360923260794
variable C3pos equal ${d3}
variable C3pos equal 119.360923261302
variable C4pos equal ${d4}
variable C4pos equal 2.18318346398651e-09
variable C5pos equal ${d5}
variable C5pos equal -2.91295698202992e-09
variable C6pos equal ${d6}
variable C6pos equal 7.16360983829605e-10

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C11 equal 0.5*(${C1neg}+${C1pos})
variable C11 equal 0.5*(232.481404996371+${C1pos})
variable C11 equal 0.5*(232.481404996371+232.482424425622)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C21 equal 0.5*(${C2neg}+${C2pos})
variable C21 equal 0.5*(119.361809171554+${C2pos})
variable C21 equal 0.5*(119.361809171554+119.360923260794)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C31 equal 0.5*(${C3neg}+${C3pos})
variable C31 equal 0.5*(119.361809170691+${C3pos})
variable C31 equal 0.5*(119.361809170691+119.360923261302)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C41 equal 0.5*(${C4neg}+${C4pos})
variable C41 equal 0.5*(-2.25502366051226e-09+${C4pos})
variable C41 equal 0.5*(-2.25502366051226e-09+2.18318346398651e-09)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C51 equal 0.5*(${C5neg}+${C5pos})
variable C51 equal 0.5*(2.80434021165326e-09+${C5pos})
variable C51 equal 0.5*(2.80434021165326e-09+-2.91295698202992e-09)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C61 equal 0.5*(${C6neg}+${C6pos})
variable C61 equal 0.5*(-1.22542173355488e-09+${C6pos})
variable C61 equal 0.5*(-1.22542173355488e-09+7.16360983829605e-10)

# Delete dir to make sure it is not reused

variable dir delete

# uyy Perturbation

variable dir equal 2
include ../elastic_constant/displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
#
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
if "${dir} == 2" then    "variable len0 equal ${ly0}"
variable len0 equal ${ly0}
variable len0 equal 12.1106685832227
if "${dir} == 3" then    "variable len0 equal ${lz0}"
if "${dir} == 4" then    "variable len0 equal ${lz0}"
if "${dir} == 5" then    "variable len0 equal ${lz0}"
if "${dir} == 6" then    "variable len0 equal ${ly0}"

# Reset box and simulation parameters

clear
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
Loaded 1 plugins from D:\Program Files (x86)\LAMMPS 64-bit 15Jun2023\plugins
box tilt large

The 'box' command has been removed and will be ignored

read_restart ../elastic_constant/restart.equil
Reading restart file ...
  restart file = 15 Jun 2023, LAMMPS = 15 Jun 2023
  restoring atom style atomic from restart
  triclinic box = (0.00066570839 0.00066570839 0.00066570839) to (12.111334 12.111334 12.111334) with tilt (0 0 0)
  1 by 1 by 1 MPI processor grid
  pair style eam/alloy stores no restart info
  128 atoms
  read_restart CPU = 0.001 seconds
include ../elastic_constant/potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# Choose potential
pair_style	eam/alloy
pair_coeff * * ../V.eam.alloy V
Reading eam/alloy potential file ../V.eam.alloy with DATE: 2025-04-20

# Setup neighbor style
neighbor 1.0 nsq
neigh_modify once no every 1 delay 0 check yes

# Setup minimization style
min_style	     cg
min_modify	     dmax ${dmax} line quadratic
min_modify	     dmax 0.01 line quadratic

# Setup output
thermo		1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -1e-06*${len0}
variable delta equal -1e-06*12.1106685832227
variable deltaxy equal -${up}*xy
variable deltaxy equal -1e-06*xy
variable deltaxz equal -${up}*xz
variable deltaxz equal -1e-06*xz
variable deltayz equal -${up}*yz
variable deltayz equal -1e-06*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box
change_box all y delta 0 -1.21106685832227e-05 yz delta ${deltayz} remap units box
change_box all y delta 0 -1.21106685832227e-05 yz delta -0 remap units box
Changing box ...
  triclinic box = (0.00066570839 0.00066570839 0.00066570839) to (12.111334 12.111322 12.111334) with tilt (0 0 0)
  triclinic box = (0.00066570839 0.00066570839 0.00066570839) to (12.111334 12.111322 12.111334) with tilt (0 0 0)
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 5.7908507
  ghost atom cutoff = 5.7908507
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/nsq/newton
      stencil: none
      bin: none
Per MPI rank memory allocation (min/avg/max) = 4.44 | 4.44 | 4.44 Mbytes
   Step          Temp          PotEng         Press           Pxx            Pyy            Pzz            Pxy            Pxz            Pyz             Lx             Ly             Lz           Volume    
         4   0             -679.68137      1.5707273      1.1936621      2.3248465      1.1936732      8.6758615e-06  2.5119874e-06 -4.9044554e-06  12.110669      12.110656      12.110669      1776.2493    
         5   0             -679.68137      1.570684       1.1936212      2.3248149      1.1936159     -2.0418492e-07  4.5377848e-07 -7.0152183e-07  12.110669      12.110656      12.110669      1776.2493    
         6   0             -679.68137      1.5706844      1.193619       2.3248151      1.1936192     -1.9404139e-07  2.670533e-07  -5.9883238e-07  12.110669      12.110656      12.110669      1776.2493    
         7   0             -679.68137      1.5706839      1.1936185      2.3248145      1.1936186     -8.7298601e-08  1.1319153e-07 -2.3114497e-07  12.110669      12.110656      12.110669      1776.2493    
         8   0             -679.68137      1.5706836      1.1936183      2.3248143      1.1936183     -3.6811973e-08  5.0706275e-08 -7.5318189e-08  12.110669      12.110656      12.110669      1776.2493    
         9   0             -679.68137      1.5706835      1.1936182      2.3248141      1.1936182     -1.3851903e-08  2.5289452e-08 -2.2252094e-09  12.110669      12.110656      12.110669      1776.2493    
        10   0             -679.68137      1.5706834      1.1936181      2.3248141      1.1936181     -2.6243416e-09  4.7688624e-09 -1.433134e-09   12.110669      12.110656      12.110669      1776.2493    
        11   0             -679.68137      1.5706834      1.1936181      2.3248141      1.1936181     -1.4893649e-09  2.2418586e-09 -2.1567019e-09  12.110669      12.110656      12.110669      1776.2493    
        12   0             -679.68137      1.5706834      1.1936181      2.3248141      1.1936181     -3.2304956e-10  4.7614599e-10 -9.2109661e-10  12.110669      12.110656      12.110669      1776.2493    
        13   0             -679.68137      1.5706834      1.1936181      2.3248141      1.1936181      2.455524e-11   1.4384296e-11 -2.014038e-10   12.110669      12.110656      12.110669      1776.2493    
        14   0             -679.68137      1.5706834      1.1936181      2.3248141      1.1936181     -1.3378981e-11 -1.0632744e-11 -4.0941026e-12  12.110669      12.110656      12.110669      1776.2493    
        15   0             -679.68137      1.5706834      1.1936181      2.3248141      1.1936181     -1.3442291e-12  1.3170947e-11 -3.0588526e-11  12.110669      12.110656      12.110669      1776.2493    
        16   0             -679.68137      1.5706834      1.1936181      2.3248141      1.1936181      1.5437951e-11  8.175498e-12   5.5537115e-12  12.110669      12.110656      12.110669      1776.2493    
        17   0             -679.68137      1.5706834      1.1936181      2.3248141      1.1936181      7.6222288e-12  1.7035818e-11 -1.1814683e-11  12.110669      12.110656      12.110669      1776.2493    
        18   0             -679.68137      1.5706834      1.1936181      2.3248141      1.1936181     -1.704704e-11  -2.3632104e-12  1.4528965e-11  12.110669      12.110656      12.110669      1776.2493    
        19   0             -679.68137      1.5706834      1.1936181      2.3248141      1.1936181      8.3546524e-12 -8.5366122e-12 -7.638854e-12   12.110669      12.110656      12.110669      1776.2493    
        20   0             -679.68137      1.5706834      1.1936181      2.3248141      1.1936181     -9.4184787e-12 -2.2805797e-12  1.535103e-11   12.110669      12.110656      12.110669      1776.2493    
        21   0             -679.68137      1.5706834      1.1936181      2.3248141      1.1936181      5.3452676e-12  7.0510326e-12  1.7816522e-11  12.110669      12.110656      12.110669      1776.2493    
        22   0             -679.68137      1.5706834      1.1936181      2.3248141      1.1936181      7.3661037e-13  1.4878038e-11  9.0995998e-12  12.110669      12.110656      12.110669      1776.2493    
Loop time of 0.002484 on 1 procs for 18 steps with 128 atoms

0.0% CPU use with 1 MPI tasks x 1 OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -679.681366109909  -679.681366146337  -679.681366146343
  Force two-norm initial, final = 0.00074028664 7.8548411e-11
  Force max component initial, final = 9.5061226e-05 1.105277e-11
  Final line search alpha, max atom move = 1 1.105277e-11
  Iterations, force evaluations = 18 36

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.001522   | 0.001522   | 0.001522   |   0.0 | 61.27
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 4.2e-05    | 4.2e-05    | 4.2e-05    |   0.0 |  1.69
Output  | 0.000828   | 0.000828   | 0.000828   |   0.0 | 33.33
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 9.2e-05    |            |       |  3.70

Nlocal:            128 ave         128 max         128 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:            727 ave         727 max         727 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:           3712 ave        3712 max        3712 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 3712
Ave neighs/atom = 29
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal 1.19361809189689
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal 2.32481405016593
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal 1.19361809191929
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal 7.36610370314035e-13
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal 1.48780381064037e-11
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal 9.09959975720727e-12

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal 119.361809169076
variable C2neg equal ${d2}
variable C2neg equal 232.481404994477
variable C3neg equal ${d3}
variable C3neg equal 119.361809168917
variable C4neg equal ${d4}
variable C4neg equal -6.71814091822943e-10
variable C5neg equal ${d5}
variable C5neg equal 3.54822530845568e-09
variable C6neg equal ${d6}
variable C6neg equal 1.81313679080078e-10

# Reset box and simulation parameters

clear
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
Loaded 1 plugins from D:\Program Files (x86)\LAMMPS 64-bit 15Jun2023\plugins
box tilt large

The 'box' command has been removed and will be ignored

read_restart ../elastic_constant/restart.equil
Reading restart file ...
  restart file = 15 Jun 2023, LAMMPS = 15 Jun 2023
  restoring atom style atomic from restart
  triclinic box = (0.00066570839 0.00066570839 0.00066570839) to (12.111334 12.111334 12.111334) with tilt (0 0 0)
  1 by 1 by 1 MPI processor grid
  pair style eam/alloy stores no restart info
  128 atoms
  read_restart CPU = 0.001 seconds
include ../elastic_constant/potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# Choose potential
pair_style	eam/alloy
pair_coeff * * ../V.eam.alloy V
Reading eam/alloy potential file ../V.eam.alloy with DATE: 2025-04-20

# Setup neighbor style
neighbor 1.0 nsq
neigh_modify once no every 1 delay 0 check yes

# Setup minimization style
min_style	     cg
min_modify	     dmax ${dmax} line quadratic
min_modify	     dmax 0.01 line quadratic

# Setup output
thermo		1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 1e-06*${len0}
variable delta equal 1e-06*12.1106685832227
variable deltaxy equal ${up}*xy
variable deltaxy equal 1e-06*xy
variable deltaxz equal ${up}*xz
variable deltaxz equal 1e-06*xz
variable deltayz equal ${up}*yz
variable deltayz equal 1e-06*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box
change_box all y delta 0 1.21106685832227e-05 yz delta ${deltayz} remap units box
change_box all y delta 0 1.21106685832227e-05 yz delta 0 remap units box
Changing box ...
  triclinic box = (0.00066570839 0.00066570839 0.00066570839) to (12.111334 12.111346 12.111334) with tilt (0 0 0)
  triclinic box = (0.00066570839 0.00066570839 0.00066570839) to (12.111334 12.111346 12.111334) with tilt (0 0 0)
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 5.7908507
  ghost atom cutoff = 5.7908507
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/nsq/newton
      stencil: none
      bin: none
Per MPI rank memory allocation (min/avg/max) = 4.44 | 4.44 | 4.44 Mbytes
   Step          Temp          PotEng         Press           Pxx            Pyy            Pzz            Pxy            Pxz            Pyz             Lx             Ly             Lz           Volume    
         4   0             -679.68137     -1.570637      -1.1935652     -2.3247918     -1.1935541      8.6758015e-06  2.5119491e-06 -4.9044278e-06  12.110669      12.110681      12.110669      1776.2529    
         5   0             -679.68137     -1.5706803     -1.1936061     -2.3248234     -1.1936115     -2.0418099e-07  4.5378548e-07 -7.015087e-07   12.110669      12.110681      12.110669      1776.2529    
         6   0             -679.68137     -1.5706799     -1.1936084     -2.3248232     -1.1936081     -1.9402781e-07  2.6705704e-07 -5.9883445e-07  12.110669      12.110681      12.110669      1776.2529    
         7   0             -679.68137     -1.5706804     -1.1936088     -2.3248238     -1.1936087     -8.730659e-08   1.1318419e-07 -2.3115322e-07  12.110669      12.110681      12.110669      1776.2529    
         8   0             -679.68137     -1.5706807     -1.193609      -2.324824      -1.193609      -3.6814902e-08  5.0722787e-08 -7.5317389e-08  12.110669      12.110681      12.110669      1776.2529    
         9   0             -679.68137     -1.5706808     -1.1936091     -2.3248242     -1.1936091     -1.3856043e-08  2.528987e-08  -2.2110024e-09  12.110669      12.110681      12.110669      1776.2529    
        10   0             -679.68137     -1.5706809     -1.1936092     -2.3248242     -1.1936092     -2.6258206e-09  4.766418e-09  -1.4372405e-09  12.110669      12.110681      12.110669      1776.2529    
        11   0             -679.68137     -1.5706809     -1.1936092     -2.3248242     -1.1936092     -1.501046e-09   2.241898e-09  -2.1768611e-09  12.110669      12.110681      12.110669      1776.2529    
        12   0             -679.68137     -1.5706809     -1.1936092     -2.3248242     -1.1936092     -3.0443185e-10  4.9958125e-10 -9.2182027e-10  12.110669      12.110681      12.110669      1776.2529    
        13   0             -679.68137     -1.5706809     -1.1936092     -2.3248242     -1.1936092      2.3379575e-11 -1.3401215e-11 -1.8801258e-10  12.110669      12.110681      12.110669      1776.2529    
        14   0             -679.68137     -1.5706809     -1.1936092     -2.3248242     -1.1936092     -2.3320947e-12 -2.2774212e-11 -2.2891041e-11  12.110669      12.110681      12.110669      1776.2529    
        15   0             -679.68137     -1.5706809     -1.1936092     -2.3248242     -1.1936092     -3.7520693e-12  1.3225527e-13  1.8945063e-11  12.110669      12.110681      12.110669      1776.2529    
        16   0             -679.68137     -1.5706809     -1.1936092     -2.3248242     -1.1936092     -4.8639475e-13  1.6196246e-11  6.2561911e-12  12.110669      12.110681      12.110669      1776.2529    
        17   0             -679.68137     -1.5706809     -1.1936092     -2.3248242     -1.1936092      2.3722211e-12  6.3673472e-12  1.317938e-12   12.110669      12.110681      12.110669      1776.2529    
        18   0             -679.68137     -1.5706809     -1.1936092     -2.3248242     -1.1936092      1.174204e-12   3.0396463e-12 -7.2396892e-12  12.110669      12.110681      12.110669      1776.2529    
        19   0             -679.68137     -1.5706809     -1.1936092     -2.3248242     -1.1936092      6.2842094e-12 -1.7062084e-11 -4.9262672e-12  12.110669      12.110681      12.110669      1776.2529    
        20   0             -679.68137     -1.5706809     -1.1936092     -2.3248242     -1.1936092      4.4150448e-12 -6.2030702e-12  6.9152854e-12  12.110669      12.110681      12.110669      1776.2529    
        21   0             -679.68137     -1.5706809     -1.1936092     -2.3248242     -1.1936092      3.2950802e-12  7.0510185e-12  1.257623e-11   12.110669      12.110681      12.110669      1776.2529    
        22   0             -679.68137     -1.5706809     -1.1936092     -2.3248242     -1.1936092     -1.1314909e-11 -3.177537e-12   2.0601976e-11  12.110669      12.110681      12.110669      1776.2529    
Loop time of 0.002769 on 1 procs for 18 steps with 128 atoms

0.0% CPU use with 1 MPI tasks x 1 OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
      -679.68136610991  -679.681366146336  -679.681366146338
  Force two-norm initial, final = 0.00074028412 7.347284e-11
  Force max component initial, final = 9.5061322e-05 8.7807817e-12
  Final line search alpha, max atom move = 1 8.7807817e-12
  Iterations, force evaluations = 18 36

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.001701   | 0.001701   | 0.001701   |   0.0 | 61.43
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 4.6e-05    | 4.6e-05    | 4.6e-05    |   0.0 |  1.66
Output  | 0.000915   | 0.000915   | 0.000915   |   0.0 | 33.04
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 0.000107   |            |       |  3.86

Nlocal:            128 ave         128 max         128 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:            727 ave         727 max         727 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:           3712 ave        3712 max        3712 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 3712
Ave neighs/atom = 29
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pe
variable e1 equal ${tmp}
variable e1 equal -679.681366146338
variable tmp equal press
variable p1 equal ${tmp}
variable p1 equal -1.57068090296115
variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal -1.19360923239301
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal -2.32482424405225
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal -1.19360923243819
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal -1.13149092077585e-11
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal -3.17753696496417e-12
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal 2.06019756540513e-11

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal 119.360923259914
variable C2pos equal ${d2}
variable C2pos equal 232.482424427341
variable C3pos equal ${d3}
variable C3pos equal 119.360923266831
variable C4pos equal ${d4}
variable C4pos equal -4.7842349786146e-10
variable C5pos equal ${d5}
variable C5pos equal -1.74266780131889e-09
variable C6pos equal ${d6}
variable C6pos equal 1.02383827872718e-09

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C12 equal 0.5*(${C1neg}+${C1pos})
variable C12 equal 0.5*(119.361809169076+${C1pos})
variable C12 equal 0.5*(119.361809169076+119.360923259914)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C22 equal 0.5*(${C2neg}+${C2pos})
variable C22 equal 0.5*(232.481404994477+${C2pos})
variable C22 equal 0.5*(232.481404994477+232.482424427341)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C32 equal 0.5*(${C3neg}+${C3pos})
variable C32 equal 0.5*(119.361809168917+${C3pos})
variable C32 equal 0.5*(119.361809168917+119.360923266831)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C42 equal 0.5*(${C4neg}+${C4pos})
variable C42 equal 0.5*(-6.71814091822943e-10+${C4pos})
variable C42 equal 0.5*(-6.71814091822943e-10+-4.7842349786146e-10)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C52 equal 0.5*(${C5neg}+${C5pos})
variable C52 equal 0.5*(3.54822530845568e-09+${C5pos})
variable C52 equal 0.5*(3.54822530845568e-09+-1.74266780131889e-09)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C62 equal 0.5*(${C6neg}+${C6pos})
variable C62 equal 0.5*(1.81313679080078e-10+${C6pos})
variable C62 equal 0.5*(1.81313679080078e-10+1.02383827872718e-09)

# Delete dir to make sure it is not reused

variable dir delete

# uzz Perturbation

variable dir equal 3
include ../elastic_constant/displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
#
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
if "${dir} == 2" then    "variable len0 equal ${ly0}"
if "${dir} == 3" then    "variable len0 equal ${lz0}"
variable len0 equal ${lz0}
variable len0 equal 12.1106685832227
if "${dir} == 4" then    "variable len0 equal ${lz0}"
if "${dir} == 5" then    "variable len0 equal ${lz0}"
if "${dir} == 6" then    "variable len0 equal ${ly0}"

# Reset box and simulation parameters

clear
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
Loaded 1 plugins from D:\Program Files (x86)\LAMMPS 64-bit 15Jun2023\plugins
box tilt large

The 'box' command has been removed and will be ignored

read_restart ../elastic_constant/restart.equil
Reading restart file ...
  restart file = 15 Jun 2023, LAMMPS = 15 Jun 2023
  restoring atom style atomic from restart
  triclinic box = (0.00066570839 0.00066570839 0.00066570839) to (12.111334 12.111334 12.111334) with tilt (0 0 0)
  1 by 1 by 1 MPI processor grid
  pair style eam/alloy stores no restart info
  128 atoms
  read_restart CPU = 0.001 seconds
include ../elastic_constant/potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# Choose potential
pair_style	eam/alloy
pair_coeff * * ../V.eam.alloy V
Reading eam/alloy potential file ../V.eam.alloy with DATE: 2025-04-20

# Setup neighbor style
neighbor 1.0 nsq
neigh_modify once no every 1 delay 0 check yes

# Setup minimization style
min_style	     cg
min_modify	     dmax ${dmax} line quadratic
min_modify	     dmax 0.01 line quadratic

# Setup output
thermo		1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -1e-06*${len0}
variable delta equal -1e-06*12.1106685832227
variable deltaxy equal -${up}*xy
variable deltaxy equal -1e-06*xy
variable deltaxz equal -${up}*xz
variable deltaxz equal -1e-06*xz
variable deltayz equal -${up}*yz
variable deltayz equal -1e-06*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
change_box all z delta 0 ${delta} remap units box
change_box all z delta 0 -1.21106685832227e-05 remap units box
Changing box ...
  triclinic box = (0.00066570839 0.00066570839 0.00066570839) to (12.111334 12.111334 12.111322) with tilt (0 0 0)
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 5.7908507
  ghost atom cutoff = 5.7908507
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/nsq/newton
      stencil: none
      bin: none
Per MPI rank memory allocation (min/avg/max) = 4.44 | 4.44 | 4.44 Mbytes
   Step          Temp          PotEng         Press           Pxx            Pyy            Pzz            Pxy            Pxz            Pyz             Lx             Ly             Lz           Volume    
         4   0             -679.68137      1.5707273      1.1936621      1.1936505      2.3248692      8.6758707e-06  2.5119554e-06 -4.9044573e-06  12.110669      12.110669      12.110656      1776.2493    
         5   0             -679.68137      1.570684       1.1936212      1.1936189      2.3248118     -2.042078e-07   4.5377665e-07 -7.0152427e-07  12.110669      12.110669      12.110656      1776.2493    
         6   0             -679.68137      1.5706844      1.193619       1.1936192      2.3248151     -1.9405194e-07  2.6702955e-07 -5.9883175e-07  12.110669      12.110669      12.110656      1776.2493    
         7   0             -679.68137      1.5706839      1.1936185      1.1936186      2.3248146     -8.7314035e-08  1.131987e-07  -2.3114044e-07  12.110669      12.110669      12.110656      1776.2493    
         8   0             -679.68137      1.5706836      1.1936183      1.1936183      2.3248143     -3.6826402e-08  5.0726744e-08 -7.532267e-08   12.110669      12.110669      12.110656      1776.2493    
         9   0             -679.68137      1.5706835      1.1936182      1.1936182      2.3248141     -1.3827839e-08  2.5306126e-08 -2.236386e-09   12.110669      12.110669      12.110656      1776.2493    
        10   0             -679.68137      1.5706834      1.1936181      1.1936181      2.3248141     -2.6324051e-09  4.7483033e-09 -1.4513392e-09  12.110669      12.110669      12.110656      1776.2493    
        11   0             -679.68137      1.5706834      1.1936181      1.1936181      2.3248141     -1.49633e-09    2.2265297e-09 -2.1774014e-09  12.110669      12.110669      12.110656      1776.2493    
        12   0             -679.68137      1.5706834      1.1936181      1.1936181      2.3248141     -3.0709836e-10  4.9678041e-10 -9.1423744e-10  12.110669      12.110669      12.110656      1776.2493    
        13   0             -679.68137      1.5706834      1.1936181      1.1936181      2.3248141      2.0133029e-11 -1.1570757e-11 -2.0457152e-10  12.110669      12.110669      12.110656      1776.2493    
        14   0             -679.68137      1.5706834      1.1936181      1.1936181      2.3248141     -2.8247967e-12 -1.0136068e-11 -2.6718141e-11  12.110669      12.110669      12.110656      1776.2493    
        15   0             -679.68137      1.5706834      1.1936181      1.1936181      2.3248141     -1.1482766e-11 -9.9257659e-13  1.0488051e-11  12.110669      12.110669      12.110656      1776.2493    
        16   0             -679.68137      1.5706834      1.1936181      1.1936181      2.3248141      3.0116769e-12 -1.6619792e-11 -4.309545e-12   12.110669      12.110669      12.110656      1776.2493    
        17   0             -679.68137      1.5706834      1.1936181      1.1936181      2.3248141      2.5005268e-12  9.5035359e-12 -7.9061155e-14  12.110669      12.110669      12.110656      1776.2493    
        18   0             -679.68137      1.5706834      1.1936181      1.1936181      2.3248141      1.5073378e-11  3.697605e-12   2.8447958e-12  12.110669      12.110669      12.110656      1776.2493    
        19   0             -679.68137      1.5706834      1.1936181      1.1936181      2.3248141     -3.9017215e-12 -8.8620679e-12  9.4484468e-12  12.110669      12.110669      12.110656      1776.2493    
        20   0             -679.68137      1.5706834      1.1936181      1.1936181      2.3248141      6.8756067e-12  6.1310138e-12 -7.5896325e-12  12.110669      12.110669      12.110656      1776.2493    
        21   0             -679.68137      1.5706834      1.1936181      1.1936181      2.3248141     -8.6715388e-12  1.5738518e-11 -4.4578695e-12  12.110669      12.110669      12.110656      1776.2493    
        22   0             -679.68137      1.5706834      1.1936181      1.1936181      2.3248141      4.505624e-12  -4.9162775e-12  1.1028888e-11  12.110669      12.110669      12.110656      1776.2493    
Loop time of 0.002596 on 1 procs for 18 steps with 128 atoms

0.0% CPU use with 1 MPI tasks x 1 OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -679.681366109906  -679.681366146336  -679.681366146342
  Force two-norm initial, final = 0.00074028723 5.5855584e-11
  Force max component initial, final = 9.5061785e-05 9.954666e-12
  Final line search alpha, max atom move = 1 9.954666e-12
  Iterations, force evaluations = 18 36

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.001563   | 0.001563   | 0.001563   |   0.0 | 60.21
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 4.6e-05    | 4.6e-05    | 4.6e-05    |   0.0 |  1.77
Output  | 0.000888   | 0.000888   | 0.000888   |   0.0 | 34.21
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 9.9e-05    |            |       |  3.81

Nlocal:            128 ave         128 max         128 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:            727 ave         727 max         727 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:           3712 ave        3712 max        3712 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 3712
Ave neighs/atom = 29
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal 1.19361809190895
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal 1.19361809191074
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal 2.32481405017442
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal 4.50562403782494e-12
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal -4.91627751946555e-12
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal 1.10288875383809e-11

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal 119.361809170282
variable C2neg equal ${d2}
variable C2neg equal 119.361809168958
variable C3neg equal ${d3}
variable C3neg equal 232.48140499443
variable C4neg equal ${d4}
variable C4neg equal -4.7888531370558e-10
variable C5neg equal ${d5}
variable C5neg equal 1.56879374586875e-09
variable C6neg equal ${d6}
variable C6neg equal 5.58215045831168e-10

# Reset box and simulation parameters

clear
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
Loaded 1 plugins from D:\Program Files (x86)\LAMMPS 64-bit 15Jun2023\plugins
box tilt large

The 'box' command has been removed and will be ignored

read_restart ../elastic_constant/restart.equil
Reading restart file ...
  restart file = 15 Jun 2023, LAMMPS = 15 Jun 2023
  restoring atom style atomic from restart
  triclinic box = (0.00066570839 0.00066570839 0.00066570839) to (12.111334 12.111334 12.111334) with tilt (0 0 0)
  1 by 1 by 1 MPI processor grid
  pair style eam/alloy stores no restart info
  128 atoms
  read_restart CPU = 0.001 seconds
include ../elastic_constant/potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# Choose potential
pair_style	eam/alloy
pair_coeff * * ../V.eam.alloy V
Reading eam/alloy potential file ../V.eam.alloy with DATE: 2025-04-20

# Setup neighbor style
neighbor 1.0 nsq
neigh_modify once no every 1 delay 0 check yes

# Setup minimization style
min_style	     cg
min_modify	     dmax ${dmax} line quadratic
min_modify	     dmax 0.01 line quadratic

# Setup output
thermo		1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 1e-06*${len0}
variable delta equal 1e-06*12.1106685832227
variable deltaxy equal ${up}*xy
variable deltaxy equal 1e-06*xy
variable deltaxz equal ${up}*xz
variable deltaxz equal 1e-06*xz
variable deltayz equal ${up}*yz
variable deltayz equal 1e-06*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
change_box all z delta 0 ${delta} remap units box
change_box all z delta 0 1.21106685832227e-05 remap units box
Changing box ...
  triclinic box = (0.00066570839 0.00066570839 0.00066570839) to (12.111334 12.111334 12.111346) with tilt (0 0 0)
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 5.7908507
  ghost atom cutoff = 5.7908507
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/nsq/newton
      stencil: none
      bin: none
Per MPI rank memory allocation (min/avg/max) = 4.44 | 4.44 | 4.44 Mbytes
   Step          Temp          PotEng         Press           Pxx            Pyy            Pzz            Pxy            Pxz            Pyz             Lx             Ly             Lz           Volume    
         4   0             -679.68137     -1.570637      -1.1935652     -1.1935768     -2.3247691      8.6758001e-06  2.5119543e-06 -4.9044294e-06  12.110669      12.110669      12.110681      1776.2529    
         5   0             -679.68137     -1.5706803     -1.1936061     -1.1936084     -2.3248265     -2.0418803e-07  4.5377439e-07 -7.0152642e-07  12.110669      12.110669      12.110681      1776.2529    
         6   0             -679.68137     -1.5706799     -1.1936084     -1.1936082     -2.3248232     -1.9401642e-07  2.6704952e-07 -5.9883724e-07  12.110669      12.110669      12.110681      1776.2529    
         7   0             -679.68137     -1.5706804     -1.1936088     -1.1936088     -2.3248237     -8.7297872e-08  1.1318911e-07 -2.3115232e-07  12.110669      12.110669      12.110681      1776.2529    
         8   0             -679.68137     -1.5706807     -1.193609      -1.193609      -2.324824      -3.6821088e-08  5.0725136e-08 -7.5332928e-08  12.110669      12.110669      12.110681      1776.2529    
         9   0             -679.68137     -1.5706808     -1.1936091     -1.1936092     -2.3248242     -1.3832668e-08  2.5312728e-08 -2.2120893e-09  12.110669      12.110669      12.110681      1776.2529    
        10   0             -679.68137     -1.5706809     -1.1936092     -1.1936092     -2.3248242     -2.6345614e-09  4.756203e-09  -1.4356704e-09  12.110669      12.110669      12.110681      1776.2529    
        11   0             -679.68137     -1.5706809     -1.1936092     -1.1936092     -2.3248242     -1.4899276e-09  2.2409015e-09 -2.1467897e-09  12.110669      12.110669      12.110681      1776.2529    
        12   0             -679.68137     -1.5706809     -1.1936092     -1.1936092     -2.3248242     -3.1417129e-10  4.794754e-10  -9.1691396e-10  12.110669      12.110669      12.110681      1776.2529    
        13   0             -679.68137     -1.5706809     -1.1936092     -1.1936092     -2.3248242      2.0898086e-11  1.466899e-11  -2.0648778e-10  12.110669      12.110669      12.110681      1776.2529    
        14   0             -679.68137     -1.5706809     -1.1936092     -1.1936092     -2.3248242     -6.4815532e-12 -2.460847e-11  -2.0844042e-11  12.110669      12.110669      12.110681      1776.2529    
        15   0             -679.68137     -1.5706809     -1.1936092     -1.1936092     -2.3248242     -9.9609277e-12 -9.819003e-12  -6.6469548e-12  12.110669      12.110669      12.110681      1776.2529    
        16   0             -679.68137     -1.5706809     -1.1936092     -1.1936092     -2.3248242      4.9500191e-12  5.2672227e-12 -7.4293317e-12  12.110669      12.110669      12.110681      1776.2529    
        17   0             -679.68137     -1.5706809     -1.1936092     -1.1936092     -2.3248242      4.3645277e-12  3.0034451e-11 -2.3531157e-11  12.110669      12.110669      12.110681      1776.2529    
        18   0             -679.68137     -1.5706809     -1.1936092     -1.1936092     -2.3248242      9.2708631e-12  7.5732795e-12  1.1153927e-12  12.110669      12.110669      12.110681      1776.2529    
        19   0             -679.68137     -1.5706809     -1.1936092     -1.1936092     -2.3248242      3.6061961e-12  1.4969367e-11  1.1689011e-11  12.110669      12.110669      12.110681      1776.2529    
        20   0             -679.68137     -1.5706809     -1.1936092     -1.1936092     -2.3248242     -7.4323816e-12  2.6471223e-13 -1.6224392e-11  12.110669      12.110669      12.110681      1776.2529    
        21   0             -679.68137     -1.5706809     -1.1936092     -1.1936092     -2.3248242      4.0345435e-12 -1.3578761e-11 -7.0829852e-12  12.110669      12.110669      12.110681      1776.2529    
        22   0             -679.68137     -1.5706809     -1.1936092     -1.1936092     -2.3248242     -3.1888323e-12  2.0898386e-12 -5.2808101e-12  12.110669      12.110669      12.110681      1776.2529    
Loop time of 0.003346 on 1 procs for 18 steps with 128 atoms

0.0% CPU use with 1 MPI tasks x 1 OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
      -679.68136610991  -679.681366146335  -679.681366146337
  Force two-norm initial, final = 0.00074028354 5.8332325e-11
  Force max component initial, final = 9.5060763e-05 8.3560381e-12
  Final line search alpha, max atom move = 1 8.3560381e-12
  Iterations, force evaluations = 18 36

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.002019   | 0.002019   | 0.002019   |   0.0 | 60.34
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 5.5e-05    | 5.5e-05    | 5.5e-05    |   0.0 |  1.64
Output  | 0.001114   | 0.001114   | 0.001114   |   0.0 | 33.29
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 0.000158   |            |       |  4.72

Nlocal:            128 ave         128 max         128 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:            727 ave         727 max         727 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:           3712 ave        3712 max        3712 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 3712
Ave neighs/atom = 29
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pe
variable e1 equal ${tmp}
variable e1 equal -679.681366146337
variable tmp equal press
variable p1 equal ${tmp}
variable p1 equal -1.5706809029278
variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal -1.19360923237235
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal -1.19360923238001
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal -2.32482424403105
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal -3.18883226631115e-12
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal 2.08983856317687e-12
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal -5.28081009110676e-12

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal 119.360923257848
variable C2pos equal ${d2}
variable C2pos equal 119.360923260117
variable C3pos equal ${d3}
variable C3pos equal 232.482424426117
variable C4pos equal ${d4}
variable C4pos equal 2.10985507665435e-09
variable C5pos equal ${d5}
variable C5pos equal -2.269405354133e-09
variable C6pos equal ${d6}
variable C6pos equal 2.11230584582441e-10

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C13 equal 0.5*(${C1neg}+${C1pos})
variable C13 equal 0.5*(119.361809170282+${C1pos})
variable C13 equal 0.5*(119.361809170282+119.360923257848)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C23 equal 0.5*(${C2neg}+${C2pos})
variable C23 equal 0.5*(119.361809168958+${C2pos})
variable C23 equal 0.5*(119.361809168958+119.360923260117)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C33 equal 0.5*(${C3neg}+${C3pos})
variable C33 equal 0.5*(232.48140499443+${C3pos})
variable C33 equal 0.5*(232.48140499443+232.482424426117)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C43 equal 0.5*(${C4neg}+${C4pos})
variable C43 equal 0.5*(-4.7888531370558e-10+${C4pos})
variable C43 equal 0.5*(-4.7888531370558e-10+2.10985507665435e-09)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C53 equal 0.5*(${C5neg}+${C5pos})
variable C53 equal 0.5*(1.56879374586875e-09+${C5pos})
variable C53 equal 0.5*(1.56879374586875e-09+-2.269405354133e-09)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C63 equal 0.5*(${C6neg}+${C6pos})
variable C63 equal 0.5*(5.58215045831168e-10+${C6pos})
variable C63 equal 0.5*(5.58215045831168e-10+2.11230584582441e-10)

# Delete dir to make sure it is not reused

variable dir delete

# uyz Perturbation

variable dir equal 4
include ../elastic_constant/displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
#
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
if "${dir} == 2" then    "variable len0 equal ${ly0}"
if "${dir} == 3" then    "variable len0 equal ${lz0}"
if "${dir} == 4" then    "variable len0 equal ${lz0}"
variable len0 equal ${lz0}
variable len0 equal 12.1106685832227
if "${dir} == 5" then    "variable len0 equal ${lz0}"
if "${dir} == 6" then    "variable len0 equal ${ly0}"

# Reset box and simulation parameters

clear
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
Loaded 1 plugins from D:\Program Files (x86)\LAMMPS 64-bit 15Jun2023\plugins
box tilt large

The 'box' command has been removed and will be ignored

read_restart ../elastic_constant/restart.equil
Reading restart file ...
  restart file = 15 Jun 2023, LAMMPS = 15 Jun 2023
  restoring atom style atomic from restart
  triclinic box = (0.00066570839 0.00066570839 0.00066570839) to (12.111334 12.111334 12.111334) with tilt (0 0 0)
  1 by 1 by 1 MPI processor grid
  pair style eam/alloy stores no restart info
  128 atoms
  read_restart CPU = 0.002 seconds
include ../elastic_constant/potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# Choose potential
pair_style	eam/alloy
pair_coeff * * ../V.eam.alloy V
Reading eam/alloy potential file ../V.eam.alloy with DATE: 2025-04-20

# Setup neighbor style
neighbor 1.0 nsq
neigh_modify once no every 1 delay 0 check yes

# Setup minimization style
min_style	     cg
min_modify	     dmax ${dmax} line quadratic
min_modify	     dmax 0.01 line quadratic

# Setup output
thermo		1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -1e-06*${len0}
variable delta equal -1e-06*12.1106685832227
variable deltaxy equal -${up}*xy
variable deltaxy equal -1e-06*xy
variable deltaxz equal -${up}*xz
variable deltaxz equal -1e-06*xz
variable deltayz equal -${up}*yz
variable deltayz equal -1e-06*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
change_box all yz delta ${delta} remap units box
change_box all yz delta -1.21106685832227e-05 remap units box
Changing box ...
  triclinic box = (0.00066570839 0.00066570839 0.00066570839) to (12.111334 12.111334 12.111334) with tilt (0 0 -1.2110669e-05)
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 5.7908507
  ghost atom cutoff = 5.7908507
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/nsq/newton
      stencil: none
      bin: none
Per MPI rank memory allocation (min/avg/max) = 4.44 | 4.44 | 4.44 Mbytes
   Step          Temp          PotEng         Press           Pxx            Pyy            Pzz            Pxy            Pxz            Pyz             Lx             Ly             Lz           Volume    
         4   0             -679.68137      4.4802534e-05  4.5733906e-05  3.2822568e-05  5.5851128e-05  8.675826e-06   2.5119707e-06  0.45964785     12.110669      12.110669      12.110669      1776.2511    
         5   0             -679.68137      1.5135584e-06  4.8229964e-06  1.2230409e-06 -1.5053621e-06 -2.0416986e-07  4.5378699e-07  0.45965205     12.110669      12.110669      12.110669      1776.2511    
         6   0             -679.68137      1.9334954e-06  2.5463988e-06  1.4407094e-06  1.8133781e-06 -1.94037e-07    2.6705649e-07  0.45965215     12.110669      12.110669      12.110669      1776.2511    
         7   0             -679.68137      1.387011e-06   2.0844838e-06  8.3353825e-07  1.2430109e-06 -8.7303083e-08  1.131853e-07   0.45965252     12.110669      12.110669      12.110669      1776.2511    
         8   0             -679.68137      1.1449831e-06  1.904577e-06   5.772694e-07   9.5310299e-07 -3.6817016e-08  5.0702452e-08  0.45965268     12.110669      12.110669      12.110669      1776.2511    
         9   0             -679.68137      1.0095104e-06  1.7728279e-06  4.4527376e-07  8.1042944e-07 -1.385565e-08   2.5298082e-08  0.45965275     12.110669      12.110669      12.110669      1776.2511    
        10   0             -679.68137      9.4077748e-07  1.7018025e-06  3.7957238e-07  7.4095759e-07 -2.6004214e-09  4.7597775e-09  0.45965275     12.110669      12.110669      12.110669      1776.2511    
        11   0             -679.68137      9.3207486e-07  1.6904694e-06  3.7495012e-07  7.3080504e-07 -1.496024e-09   2.2196981e-09  0.45965275     12.110669      12.110669      12.110669      1776.2511    
        12   0             -679.68137      9.2780425e-07  1.685496e-06   3.7223181e-07  7.2568493e-07 -3.1422175e-10  4.8342319e-10  0.45965275     12.110669      12.110669      12.110669      1776.2511    
        13   0             -679.68137      9.2600632e-07  1.6839155e-06  3.7018724e-07  7.2391619e-07  1.6889982e-11  4.2944009e-12  0.45965275     12.110669      12.110669      12.110669      1776.2511    
        14   0             -679.68137      9.2568398e-07  1.6835969e-06  3.698849e-07   7.2357015e-07  5.6059651e-12 -1.3338157e-11  0.45965275     12.110669      12.110669      12.110669      1776.2511    
        15   0             -679.68137      9.2561225e-07  1.6835321e-06  3.6978938e-07  7.2351531e-07  1.8813908e-13 -1.440678e-12   0.45965275     12.110669      12.110669      12.110669      1776.2511    
        16   0             -679.68137      9.256457e-07   1.6835673e-06  3.6984454e-07  7.2352521e-07  1.5775175e-12  4.9769238e-12  0.45965275     12.110669      12.110669      12.110669      1776.2511    
        17   0             -679.68137      9.2566728e-07  1.6835692e-06  3.6986458e-07  7.2356807e-07 -5.2431154e-12 -4.8923984e-12  0.45965275     12.110669      12.110669      12.110669      1776.2511    
        18   0             -679.68137      9.2567416e-07  1.6835883e-06  3.698574e-07   7.2357683e-07 -1.0250386e-11 -1.2171036e-11  0.45965275     12.110669      12.110669      12.110669      1776.2511    
        19   0             -679.68137      9.2569631e-07  1.6836053e-06  3.6988564e-07  7.2359794e-07  5.3484039e-12  1.3540036e-11  0.45965275     12.110669      12.110669      12.110669      1776.2511    
        20   0             -679.68137      9.2568212e-07  1.6835839e-06  3.6985276e-07  7.2360971e-07 -1.900907e-12   4.8842876e-12  0.45965275     12.110669      12.110669      12.110669      1776.2511    
        21   0             -679.68137      9.2570366e-07  1.6836012e-06  3.6988621e-07  7.2362358e-07 -9.980625e-12  -1.1461564e-12  0.45965275     12.110669      12.110669      12.110669      1776.2511    
        22   0             -679.68137      9.2568356e-07  1.6836004e-06  3.6983372e-07  7.2361661e-07 -2.6259273e-11 -6.6036566e-12  0.45965275     12.110669      12.110669      12.110669      1776.2511    
Loop time of 0.002457 on 1 procs for 18 steps with 128 atoms

635.9% CPU use with 1 MPI tasks x 1 OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -679.681366110943  -679.681366147368   -679.68136614737
  Force two-norm initial, final = 0.00074028528 7.1205576e-11
  Force max component initial, final = 9.5061231e-05 1.0383317e-11
  Final line search alpha, max atom move = 1 1.0383317e-11
  Iterations, force evaluations = 18 36

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.001477   | 0.001477   | 0.001477   |   0.0 | 60.11
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 4.3e-05    | 4.3e-05    | 4.3e-05    |   0.0 |  1.75
Output  | 0.000846   | 0.000846   | 0.000846   |   0.0 | 34.43
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 9.1e-05    |            |       |  3.70

Nlocal:            128 ave         128 max         128 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:            727 ave         727 max         727 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:           3712 ave        3712 max        3712 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 3712
Ave neighs/atom = 29
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal 1.68360035750729e-06
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal 3.69833722493428e-07
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal 7.23616610694669e-07
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal -2.62592731518958e-11
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal -6.60365662150058e-12
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal 0.459652752987907

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal 0.000168339422303911
variable C2neg equal ${d2}
variable C2neg equal 3.69612563596919e-05
variable C3neg equal ${d3}
variable C3neg equal 7.23386489089822e-05
variable C4neg equal ${d4}
variable C4neg equal 45.9652752972089
variable C5neg equal ${d5}
variable C5neg equal 1.40005583566525e-09
variable C6neg equal ${d6}
variable C6neg equal -2.51827467314091e-09

# Reset box and simulation parameters

clear
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
Loaded 1 plugins from D:\Program Files (x86)\LAMMPS 64-bit 15Jun2023\plugins
box tilt large

The 'box' command has been removed and will be ignored

read_restart ../elastic_constant/restart.equil
Reading restart file ...
  restart file = 15 Jun 2023, LAMMPS = 15 Jun 2023
  restoring atom style atomic from restart
  triclinic box = (0.00066570839 0.00066570839 0.00066570839) to (12.111334 12.111334 12.111334) with tilt (0 0 0)
  1 by 1 by 1 MPI processor grid
  pair style eam/alloy stores no restart info
  128 atoms
  read_restart CPU = 0.001 seconds
include ../elastic_constant/potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# Choose potential
pair_style	eam/alloy
pair_coeff * * ../V.eam.alloy V
Reading eam/alloy potential file ../V.eam.alloy with DATE: 2025-04-20

# Setup neighbor style
neighbor 1.0 nsq
neigh_modify once no every 1 delay 0 check yes

# Setup minimization style
min_style	     cg
min_modify	     dmax ${dmax} line quadratic
min_modify	     dmax 0.01 line quadratic

# Setup output
thermo		1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 1e-06*${len0}
variable delta equal 1e-06*12.1106685832227
variable deltaxy equal ${up}*xy
variable deltaxy equal 1e-06*xy
variable deltaxz equal ${up}*xz
variable deltaxz equal 1e-06*xz
variable deltayz equal ${up}*yz
variable deltayz equal 1e-06*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
change_box all yz delta ${delta} remap units box
change_box all yz delta 1.21106685832227e-05 remap units box
Changing box ...
  triclinic box = (0.00066570839 0.00066570839 0.00066570839) to (12.111334 12.111334 12.111334) with tilt (0 0 1.2110669e-05)
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 5.7908507
  ghost atom cutoff = 5.7908507
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/nsq/newton
      stencil: none
      bin: none
Per MPI rank memory allocation (min/avg/max) = 4.44 | 4.44 | 4.44 Mbytes
   Step          Temp          PotEng         Press           Pxx            Pyy            Pzz            Pxy            Pxz            Pyz             Lx             Ly             Lz           Volume    
         4   0             -679.68137      4.4802582e-05  4.5733942e-05  3.282261e-05   5.5851195e-05  8.6758113e-06  2.5119239e-06 -0.45965766     12.110669      12.110669      12.110669      1776.2511    
         5   0             -679.68137      1.5135542e-06  4.8229859e-06  1.2230179e-06 -1.5053411e-06 -2.041866e-07   4.5378641e-07 -0.45965345     12.110669      12.110669      12.110669      1776.2511    
         6   0             -679.68137      1.9335026e-06  2.5464033e-06  1.440723e-06   1.8133815e-06 -1.9402534e-07  2.6705564e-07 -0.45965335     12.110669      12.110669      12.110669      1776.2511    
         7   0             -679.68137      1.3870065e-06  2.0844745e-06  8.3354676e-07  1.2429982e-06 -8.7297961e-08  1.1318415e-07 -0.45965298     12.110669      12.110669      12.110669      1776.2511    
         8   0             -679.68137      1.1449918e-06  1.9046002e-06  5.7728593e-07  9.5308935e-07 -3.6809751e-08  5.0714295e-08 -0.45965283     12.110669      12.110669      12.110669      1776.2511    
         9   0             -679.68137      1.0095227e-06  1.772861e-06   4.453017e-07   8.1040546e-07 -1.3829757e-08  2.5281982e-08 -0.45965276     12.110669      12.110669      12.110669      1776.2511    
        10   0             -679.68137      9.4076224e-07  1.7017672e-06  3.7956868e-07  7.4095086e-07 -2.6035386e-09  4.7572102e-09 -0.45965275     12.110669      12.110669      12.110669      1776.2511    
        11   0             -679.68137      9.3210932e-07  1.6904902e-06  3.749741e-07   7.3086367e-07 -1.4771542e-09  2.2323869e-09 -0.45965276     12.110669      12.110669      12.110669      1776.2511    
        12   0             -679.68137      9.2779095e-07  1.6854685e-06  3.7222717e-07  7.256772e-07  -2.9572748e-10  4.8790731e-10 -0.45965275     12.110669      12.110669      12.110669      1776.2511    
        13   0             -679.68137      9.2601479e-07  1.6839054e-06  3.7020412e-07  7.2393488e-07  2.3227588e-11 -4.5980663e-12 -0.45965275     12.110669      12.110669      12.110669      1776.2511    
        14   0             -679.68137      9.2566567e-07  1.6835769e-06  3.6986832e-07  7.2355179e-07  1.1936572e-11 -2.371509e-11  -0.45965275     12.110669      12.110669      12.110669      1776.2511    
        15   0             -679.68137      9.2563667e-07  1.6835577e-06  3.6980514e-07  7.235472e-07   6.0790725e-12  1.7165929e-11 -0.45965275     12.110669      12.110669      12.110669      1776.2511    
        16   0             -679.68137      9.2564691e-07  1.683541e-06   3.6984128e-07  7.2355843e-07  9.8031334e-12  7.6759229e-13 -0.45965275     12.110669      12.110669      12.110669      1776.2511    
        17   0             -679.68137      9.2567443e-07  1.6835829e-06  3.698587e-07   7.2358174e-07 -1.1757797e-11  1.4709296e-11 -0.45965275     12.110669      12.110669      12.110669      1776.2511    
        18   0             -679.68137      9.2564096e-07  1.683559e-06   3.6981944e-07  7.2354443e-07 -5.7574067e-12 -2.5329494e-13 -0.45965275     12.110669      12.110669      12.110669      1776.2511    
        19   0             -679.68137      9.2566862e-07  1.6835785e-06  3.6985295e-07  7.2357438e-07  9.2640634e-12  9.3186635e-12 -0.45965275     12.110669      12.110669      12.110669      1776.2511    
        20   0             -679.68137      9.2565159e-07  1.6835596e-06  3.698368e-07   7.2355839e-07  8.4963611e-12 -9.4900063e-12 -0.45965275     12.110669      12.110669      12.110669      1776.2511    
        21   0             -679.68137      9.2567537e-07  1.6835841e-06  3.6983854e-07  7.2360353e-07  1.4771635e-11  9.8432415e-12 -0.45965275     12.110669      12.110669      12.110669      1776.2511    
        22   0             -679.68137      9.2567536e-07  1.683577e-06   3.6984672e-07  7.2360239e-07 -9.2321883e-12  7.4363253e-12 -0.45965275     12.110669      12.110669      12.110669      1776.2511    
Loop time of 0.002646 on 1 procs for 18 steps with 128 atoms

0.0% CPU use with 1 MPI tasks x 1 OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -679.681366110942  -679.681366147368   -679.68136614737
  Force two-norm initial, final = 0.00074028549 7.7774639e-11
  Force max component initial, final = 9.5061317e-05 1.0853846e-11
  Final line search alpha, max atom move = 1 1.0853846e-11
  Iterations, force evaluations = 18 36

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.001605   | 0.001605   | 0.001605   |   0.0 | 60.66
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 5e-05      | 5e-05      | 5e-05      |   0.0 |  1.89
Output  | 0.000865   | 0.000865   | 0.000865   |   0.0 | 32.69
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 0.000126   |            |       |  4.76

Nlocal:            128 ave         128 max         128 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:            727 ave         727 max         727 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:           3712 ave        3712 max        3712 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 3712
Ave neighs/atom = 29
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pe
variable e1 equal ${tmp}
variable e1 equal -679.68136614737
variable tmp equal press
variable p1 equal ${tmp}
variable p1 equal 9.25675364207221e-07
variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal 1.68357698664361e-06
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal 3.6984671863689e-07
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal 7.2360238734116e-07
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal -9.23218833751098e-12
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal 7.43632531012095e-12
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal -0.459652752981243

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal -0.000168337085217543
variable C2pos equal ${d2}
variable C2pos equal -3.69625559740381e-05
variable C3pos equal ${d3}
variable C3pos equal -7.23372265736313e-05
variable C4pos equal ${d4}
variable C4pos equal 45.9652752997061
variable C5pos equal ${d5}
variable C5pos equal -2.8040540288274e-09
variable C6pos equal ${d6}
variable C6pos equal 8.15566191702424e-10

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C14 equal 0.5*(${C1neg}+${C1pos})
variable C14 equal 0.5*(0.000168339422303911+${C1pos})
variable C14 equal 0.5*(0.000168339422303911+-0.000168337085217543)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C24 equal 0.5*(${C2neg}+${C2pos})
variable C24 equal 0.5*(3.69612563596919e-05+${C2pos})
variable C24 equal 0.5*(3.69612563596919e-05+-3.69625559740381e-05)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C34 equal 0.5*(${C3neg}+${C3pos})
variable C34 equal 0.5*(7.23386489089822e-05+${C3pos})
variable C34 equal 0.5*(7.23386489089822e-05+-7.23372265736313e-05)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C44 equal 0.5*(${C4neg}+${C4pos})
variable C44 equal 0.5*(45.9652752972089+${C4pos})
variable C44 equal 0.5*(45.9652752972089+45.9652752997061)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C54 equal 0.5*(${C5neg}+${C5pos})
variable C54 equal 0.5*(1.40005583566525e-09+${C5pos})
variable C54 equal 0.5*(1.40005583566525e-09+-2.8040540288274e-09)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C64 equal 0.5*(${C6neg}+${C6pos})
variable C64 equal 0.5*(-2.51827467314091e-09+${C6pos})
variable C64 equal 0.5*(-2.51827467314091e-09+8.15566191702424e-10)

# Delete dir to make sure it is not reused

variable dir delete

# uxz Perturbation

variable dir equal 5
include ../elastic_constant/displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
#
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
if "${dir} == 2" then    "variable len0 equal ${ly0}"
if "${dir} == 3" then    "variable len0 equal ${lz0}"
if "${dir} == 4" then    "variable len0 equal ${lz0}"
if "${dir} == 5" then    "variable len0 equal ${lz0}"
variable len0 equal ${lz0}
variable len0 equal 12.1106685832227
if "${dir} == 6" then    "variable len0 equal ${ly0}"

# Reset box and simulation parameters

clear
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
Loaded 1 plugins from D:\Program Files (x86)\LAMMPS 64-bit 15Jun2023\plugins
box tilt large

The 'box' command has been removed and will be ignored

read_restart ../elastic_constant/restart.equil
Reading restart file ...
  restart file = 15 Jun 2023, LAMMPS = 15 Jun 2023
  restoring atom style atomic from restart
  triclinic box = (0.00066570839 0.00066570839 0.00066570839) to (12.111334 12.111334 12.111334) with tilt (0 0 0)
  1 by 1 by 1 MPI processor grid
  pair style eam/alloy stores no restart info
  128 atoms
  read_restart CPU = 0.001 seconds
include ../elastic_constant/potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# Choose potential
pair_style	eam/alloy
pair_coeff * * ../V.eam.alloy V
Reading eam/alloy potential file ../V.eam.alloy with DATE: 2025-04-20

# Setup neighbor style
neighbor 1.0 nsq
neigh_modify once no every 1 delay 0 check yes

# Setup minimization style
min_style	     cg
min_modify	     dmax ${dmax} line quadratic
min_modify	     dmax 0.01 line quadratic

# Setup output
thermo		1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -1e-06*${len0}
variable delta equal -1e-06*12.1106685832227
variable deltaxy equal -${up}*xy
variable deltaxy equal -1e-06*xy
variable deltaxz equal -${up}*xz
variable deltaxz equal -1e-06*xz
variable deltayz equal -${up}*yz
variable deltayz equal -1e-06*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
change_box all xz delta ${delta} remap units box
change_box all xz delta -1.21106685832227e-05 remap units box
Changing box ...
  triclinic box = (0.00066570839 0.00066570839 0.00066570839) to (12.111334 12.111334 12.111334) with tilt (0 -1.2110669e-05 0)
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 5.7908507
  ghost atom cutoff = 5.7908507
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/nsq/newton
      stencil: none
      bin: none
Per MPI rank memory allocation (min/avg/max) = 4.44 | 4.44 | 4.44 Mbytes
   Step          Temp          PotEng         Press           Pxx            Pyy            Pzz            Pxy            Pxz            Pyz             Lx             Ly             Lz           Volume    
         4   0             -679.68137      4.4802595e-05  4.4420236e-05  3.4136364e-05  5.5851185e-05  8.6758149e-06  0.45965526    -4.9044217e-06  12.110669      12.110669      12.110669      1776.2511    
         5   0             -679.68137      1.5135592e-06  3.5092379e-06  2.5367574e-06 -1.5053176e-06 -2.0418181e-07  0.45965321    -7.0150904e-07  12.110669      12.110669      12.110669      1776.2511    
         6   0             -679.68137      1.933506e-06   1.2326926e-06  2.7544465e-06  1.8133789e-06 -1.9402716e-07  0.45965302    -5.9881986e-07  12.110669      12.110669      12.110669      1776.2511    
         7   0             -679.68137      1.387047e-06   7.707862e-07   2.147325e-06   1.2430297e-06 -8.7300705e-08  0.45965287    -2.3113069e-07  12.110669      12.110669      12.110669      1776.2511    
         8   0             -679.68137      1.1449855e-06  5.9085361e-07  1.8910157e-06  9.5308713e-07 -3.681637e-08   0.4596528     -7.5331407e-08  12.110669      12.110669      12.110669      1776.2511    
         9   0             -679.68137      1.0094766e-06  4.590587e-07   1.7589955e-06  8.1037549e-07 -1.3824441e-08  0.45965278    -2.2090422e-09  12.110669      12.110669      12.110669      1776.2511    
        10   0             -679.68137      9.4078439e-07  3.8807805e-07  1.6933208e-06  7.4095432e-07 -2.6241056e-09  0.45965276    -1.4392762e-09  12.110669      12.110669      12.110669      1776.2511    
        11   0             -679.68137      9.3207804e-07  3.7673459e-07  1.6887039e-06  7.3079566e-07 -1.4843611e-09  0.45965276    -2.1574802e-09  12.110669      12.110669      12.110669      1776.2511    
        12   0             -679.68137      9.2779251e-07  3.7174623e-07  1.6859604e-06  7.2567095e-07 -3.1184529e-10  0.45965275    -9.1074187e-10  12.110669      12.110669      12.110669      1776.2511    
        13   0             -679.68137      9.2601127e-07  3.7018452e-07  1.6839342e-06  7.2391514e-07  1.3760942e-11  0.45965275    -1.9012153e-10  12.110669      12.110669      12.110669      1776.2511    
        14   0             -679.68137      9.2566712e-07  3.698513e-07   1.6835881e-06  7.2356198e-07  6.2004421e-12  0.45965275    -3.4282417e-11  12.110669      12.110669      12.110669      1776.2511    
        15   0             -679.68137      9.2563817e-07  3.698279e-07   1.6835375e-06  7.2354912e-07  4.2742551e-12  0.45965275    -6.4650262e-12  12.110669      12.110669      12.110669      1776.2511    
        16   0             -679.68137      9.2571141e-07  3.6990972e-07  1.6836271e-06  7.2359741e-07  6.8983677e-12  0.45965275    -1.1519795e-11  12.110669      12.110669      12.110669      1776.2511    
        17   0             -679.68137      9.2566045e-07  3.6985799e-07  1.6835646e-06  7.2355875e-07 -8.0215668e-12  0.45965275    -1.8433425e-12  12.110669      12.110669      12.110669      1776.2511    
        18   0             -679.68137      9.256471e-07   3.6985876e-07  1.6835575e-06  7.2352503e-07 -1.0513277e-11  0.45965275     1.7813258e-11  12.110669      12.110669      12.110669      1776.2511    
        19   0             -679.68137      9.256657e-07   3.698493e-07   1.6835814e-06  7.2356639e-07 -6.8207185e-12  0.45965275    -8.4609104e-13  12.110669      12.110669      12.110669      1776.2511    
        20   0             -679.68137      9.2567898e-07  3.6985297e-07  1.6835791e-06  7.2360485e-07  1.2457789e-12  0.45965275    -1.1727597e-11  12.110669      12.110669      12.110669      1776.2511    
        21   0             -679.68137      9.2570074e-07  3.6986736e-07  1.6836256e-06  7.2360928e-07  3.241168e-12   0.45965275    -2.1488367e-11  12.110669      12.110669      12.110669      1776.2511    
        22   0             -679.68137      9.2566967e-07  3.6985471e-07  1.6835711e-06  7.2358324e-07 -2.1665987e-11  0.45965275     3.9335071e-12  12.110669      12.110669      12.110669      1776.2511    
Loop time of 0.00273 on 1 procs for 18 steps with 128 atoms

0.0% CPU use with 1 MPI tasks x 1 OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -679.681366110942  -679.681366147368   -679.68136614737
  Force two-norm initial, final = 0.00074028544 8.9902373e-11
  Force max component initial, final = 9.5061182e-05 1.2529129e-11
  Final line search alpha, max atom move = 1 1.2529129e-11
  Iterations, force evaluations = 18 36

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.001607   | 0.001607   | 0.001607   |   0.0 | 58.86
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 4.3e-05    | 4.3e-05    | 4.3e-05    |   0.0 |  1.58
Output  | 0.00098    | 0.00098    | 0.00098    |   0.0 | 35.90
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 0.0001     |            |       |  3.66

Nlocal:            128 ave         128 max         128 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:            727 ave         727 max         727 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:           3712 ave        3712 max        3712 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 3712
Ave neighs/atom = 29
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal 3.69854710168379e-07
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal 1.6835710769336e-06
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal 7.23583237391572e-07
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal -2.16659865908918e-11
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal 0.459652752996225
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal 3.93350705712368e-12

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal 3.69648575700198e-05
variable C2neg equal ${d2}
variable C2neg equal 0.000168334991803709
variable C3neg equal ${d3}
variable C3neg equal 7.23353115786725e-05
variable C4neg equal ${d4}
variable C4neg equal -1.1884233618313e-09
variable C5neg equal ${d5}
variable C5neg equal 45.9652753016829
variable C6neg equal ${d6}
variable C6neg equal -2.05894601704051e-09

# Reset box and simulation parameters

clear
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
Loaded 1 plugins from D:\Program Files (x86)\LAMMPS 64-bit 15Jun2023\plugins
box tilt large

The 'box' command has been removed and will be ignored

read_restart ../elastic_constant/restart.equil
Reading restart file ...
  restart file = 15 Jun 2023, LAMMPS = 15 Jun 2023
  restoring atom style atomic from restart
  triclinic box = (0.00066570839 0.00066570839 0.00066570839) to (12.111334 12.111334 12.111334) with tilt (0 0 0)
  1 by 1 by 1 MPI processor grid
  pair style eam/alloy stores no restart info
  128 atoms
  read_restart CPU = 0.001 seconds
include ../elastic_constant/potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# Choose potential
pair_style	eam/alloy
pair_coeff * * ../V.eam.alloy V
Reading eam/alloy potential file ../V.eam.alloy with DATE: 2025-04-20

# Setup neighbor style
neighbor 1.0 nsq
neigh_modify once no every 1 delay 0 check yes

# Setup minimization style
min_style	     cg
min_modify	     dmax ${dmax} line quadratic
min_modify	     dmax 0.01 line quadratic

# Setup output
thermo		1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 1e-06*${len0}
variable delta equal 1e-06*12.1106685832227
variable deltaxy equal ${up}*xy
variable deltaxy equal 1e-06*xy
variable deltaxz equal ${up}*xz
variable deltaxz equal 1e-06*xz
variable deltayz equal ${up}*yz
variable deltayz equal 1e-06*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
change_box all xz delta ${delta} remap units box
change_box all xz delta 1.21106685832227e-05 remap units box
Changing box ...
  triclinic box = (0.00066570839 0.00066570839 0.00066570839) to (12.111334 12.111334 12.111334) with tilt (0 1.2110669e-05 0)
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 5.7908507
  ghost atom cutoff = 5.7908507
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/nsq/newton
      stencil: none
      bin: none
Per MPI rank memory allocation (min/avg/max) = 4.44 | 4.44 | 4.44 Mbytes
   Step          Temp          PotEng         Press           Pxx            Pyy            Pzz            Pxy            Pxz            Pyz             Lx             Ly             Lz           Volume    
         4   0             -679.68137      4.4802556e-05  4.4420188e-05  3.4136328e-05  5.5851152e-05  8.6758047e-06 -0.45965024    -4.9044633e-06  12.110669      12.110669      12.110669      1776.2511    
         5   0             -679.68137      1.5135509e-06  3.5092781e-06  2.5367657e-06 -1.5053912e-06 -2.0417896e-07 -0.4596523     -7.0154209e-07  12.110669      12.110669      12.110669      1776.2511    
         6   0             -679.68137      1.9335537e-06  1.2327374e-06  2.7544968e-06  1.8134268e-06 -1.9405086e-07 -0.45965249    -5.9880494e-07  12.110669      12.110669      12.110669      1776.2511    
         7   0             -679.68137      1.3870102e-06  7.707413e-07   2.1473041e-06  1.2429852e-06 -8.7309655e-08 -0.45965264    -2.3113537e-07  12.110669      12.110669      12.110669      1776.2511    
         8   0             -679.68137      1.1450022e-06  5.9087034e-07  1.8910334e-06  9.5310283e-07 -3.6819434e-08 -0.4596527     -7.5336242e-08  12.110669      12.110669      12.110669      1776.2511    
         9   0             -679.68137      1.0094711e-06  4.5906361e-07  1.7589745e-06  8.1037531e-07 -1.3829207e-08 -0.45965273    -2.211185e-09   12.110669      12.110669      12.110669      1776.2511    
        10   0             -679.68137      9.4075929e-07  3.8805188e-07  1.6932836e-06  7.4094236e-07 -2.6264854e-09 -0.45965275    -1.427239e-09   12.110669      12.110669      12.110669      1776.2511    
        11   0             -679.68137      9.321175e-07   3.7678e-07     1.6887058e-06  7.3086674e-07 -1.5016615e-09 -0.45965275    -2.1739734e-09  12.110669      12.110669      12.110669      1776.2511    
        12   0             -679.68137      9.2781179e-07  3.7178204e-07  1.6859764e-06  7.2567694e-07 -3.0280722e-10 -0.45965275    -9.0783816e-10  12.110669      12.110669      12.110669      1776.2511    
        13   0             -679.68137      9.2602954e-07  3.7020836e-07  1.6839346e-06  7.2394569e-07  2.2379174e-11 -0.45965275    -2.1486194e-10  12.110669      12.110669      12.110669      1776.2511    
        14   0             -679.68137      9.2566318e-07  3.6984904e-07  1.6835826e-06  7.2355789e-07  5.0382045e-12 -0.45965275    -4.0539299e-11  12.110669      12.110669      12.110669      1776.2511    
        15   0             -679.68137      9.2565986e-07  3.6984972e-07  1.6835541e-06  7.2357576e-07 -7.7708756e-12 -0.45965275    -3.5126711e-12  12.110669      12.110669      12.110669      1776.2511    
        16   0             -679.68137      9.2567053e-07  3.698632e-07   1.6835947e-06  7.2355365e-07  9.0824582e-12 -0.45965275    -3.1001844e-12  12.110669      12.110669      12.110669      1776.2511    
        17   0             -679.68137      9.2568913e-07  3.6986649e-07  1.6836003e-06  7.2360055e-07 -1.275679e-11  -0.45965275    -6.0517021e-12  12.110669      12.110669      12.110669      1776.2511    
        18   0             -679.68137      9.2566994e-07  3.6985057e-07  1.6835899e-06  7.235693e-07  -1.3103321e-11 -0.45965275     1.8393103e-11  12.110669      12.110669      12.110669      1776.2511    
        19   0             -679.68137      9.2562152e-07  3.6982023e-07  1.6835361e-06  7.235082e-07   9.453266e-12  -0.45965275    -9.3509419e-12  12.110669      12.110669      12.110669      1776.2511    
        20   0             -679.68137      9.2571873e-07  3.698844e-07   1.6836231e-06  7.236487e-07  -2.1530021e-11 -0.45965275    -1.4940453e-11  12.110669      12.110669      12.110669      1776.2511    
        21   0             -679.68137      9.2569264e-07  3.6987152e-07  1.6835979e-06  7.2360852e-07 -1.9911576e-11 -0.45965275     5.7516612e-12  12.110669      12.110669      12.110669      1776.2511    
        22   0             -679.68137      9.2572624e-07  3.6989281e-07  1.683633e-06   7.2365294e-07  1.0584191e-11 -0.45965275     4.5369322e-12  12.110669      12.110669      12.110669      1776.2511    
Loop time of 0.002578 on 1 procs for 18 steps with 128 atoms

0.0% CPU use with 1 MPI tasks x 1 OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -679.681366110943  -679.681366147369  -679.681366147369
  Force two-norm initial, final = 0.00074028533 9.8250326e-11
  Force max component initial, final = 9.5061366e-05 1.4149779e-11
  Final line search alpha, max atom move = 1 1.4149779e-11
  Iterations, force evaluations = 18 36

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.001583   | 0.001583   | 0.001583   |   0.0 | 61.40
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 4.7e-05    | 4.7e-05    | 4.7e-05    |   0.0 |  1.82
Output  | 0.00083    | 0.00083    | 0.00083    |   0.0 | 32.20
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 0.000118   |            |       |  4.58

Nlocal:            128 ave         128 max         128 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:            727 ave         727 max         727 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:           3712 ave        3712 max        3712 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 3712
Ave neighs/atom = 29
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pe
variable e1 equal ${tmp}
variable e1 equal -679.681366147369
variable tmp equal press
variable p1 equal ${tmp}
variable p1 equal 9.257262363741e-07
variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal 3.69892808121056e-07
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal 1.68363295648248e-06
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal 7.23652944518767e-07
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal 1.05841908082074e-11
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal -0.459652752992581
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal 4.53693224143596e-12

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal -3.69686673652875e-05
variable C2pos equal ${d2}
variable C2pos equal -0.000168341179758597
variable C3pos equal ${d3}
variable C3pos equal -7.2342282291392e-05
variable C4pos equal ${d4}
variable C4pos equal 1.12808084340007e-09
variable C5pos equal ${d5}
variable C5pos equal 45.9652752971977
variable C6pos equal ${d6}
variable C6pos equal -1.16607172286941e-09

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C15 equal 0.5*(${C1neg}+${C1pos})
variable C15 equal 0.5*(3.69648575700198e-05+${C1pos})
variable C15 equal 0.5*(3.69648575700198e-05+-3.69686673652875e-05)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C25 equal 0.5*(${C2neg}+${C2pos})
variable C25 equal 0.5*(0.000168334991803709+${C2pos})
variable C25 equal 0.5*(0.000168334991803709+-0.000168341179758597)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C35 equal 0.5*(${C3neg}+${C3pos})
variable C35 equal 0.5*(7.23353115786725e-05+${C3pos})
variable C35 equal 0.5*(7.23353115786725e-05+-7.2342282291392e-05)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C45 equal 0.5*(${C4neg}+${C4pos})
variable C45 equal 0.5*(-1.1884233618313e-09+${C4pos})
variable C45 equal 0.5*(-1.1884233618313e-09+1.12808084340007e-09)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C55 equal 0.5*(${C5neg}+${C5pos})
variable C55 equal 0.5*(45.9652753016829+${C5pos})
variable C55 equal 0.5*(45.9652753016829+45.9652752971977)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C65 equal 0.5*(${C6neg}+${C6pos})
variable C65 equal 0.5*(-2.05894601704051e-09+${C6pos})
variable C65 equal 0.5*(-2.05894601704051e-09+-1.16607172286941e-09)

# Delete dir to make sure it is not reused

variable dir delete

# uxy Perturbation

variable dir equal 6
include ../elastic_constant/displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
#
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
if "${dir} == 2" then    "variable len0 equal ${ly0}"
if "${dir} == 3" then    "variable len0 equal ${lz0}"
if "${dir} == 4" then    "variable len0 equal ${lz0}"
if "${dir} == 5" then    "variable len0 equal ${lz0}"
if "${dir} == 6" then    "variable len0 equal ${ly0}"
variable len0 equal ${ly0}
variable len0 equal 12.1106685832227

# Reset box and simulation parameters

clear
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
Loaded 1 plugins from D:\Program Files (x86)\LAMMPS 64-bit 15Jun2023\plugins
box tilt large

The 'box' command has been removed and will be ignored

read_restart ../elastic_constant/restart.equil
Reading restart file ...
  restart file = 15 Jun 2023, LAMMPS = 15 Jun 2023
  restoring atom style atomic from restart
  triclinic box = (0.00066570839 0.00066570839 0.00066570839) to (12.111334 12.111334 12.111334) with tilt (0 0 0)
  1 by 1 by 1 MPI processor grid
  pair style eam/alloy stores no restart info
  128 atoms
  read_restart CPU = 0.001 seconds
include ../elastic_constant/potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# Choose potential
pair_style	eam/alloy
pair_coeff * * ../V.eam.alloy V
Reading eam/alloy potential file ../V.eam.alloy with DATE: 2025-04-20

# Setup neighbor style
neighbor 1.0 nsq
neigh_modify once no every 1 delay 0 check yes

# Setup minimization style
min_style	     cg
min_modify	     dmax ${dmax} line quadratic
min_modify	     dmax 0.01 line quadratic

# Setup output
thermo		1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -1e-06*${len0}
variable delta equal -1e-06*12.1106685832227
variable deltaxy equal -${up}*xy
variable deltaxy equal -1e-06*xy
variable deltaxz equal -${up}*xz
variable deltaxz equal -1e-06*xz
variable deltayz equal -${up}*yz
variable deltayz equal -1e-06*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"
change_box all xy delta ${delta} remap units box
change_box all xy delta -1.21106685832227e-05 remap units box
Changing box ...
  triclinic box = (0.00066570839 0.00066570839 0.00066570839) to (12.111334 12.111334 12.111334) with tilt (-1.2110669e-05 0 0)

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 5.7908507
  ghost atom cutoff = 5.7908507
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/nsq/newton
      stencil: none
      bin: none
Per MPI rank memory allocation (min/avg/max) = 4.44 | 4.44 | 4.44 Mbytes
   Step          Temp          PotEng         Press           Pxx            Pyy            Pzz            Pxy            Pxz            Pyz             Lx             Ly             Lz           Volume    
         4   0             -679.68137      4.4802583e-05  4.4420218e-05  3.3176335e-05  5.6811196e-05  0.45966143     2.5119682e-06 -4.9044395e-06  12.110669      12.110669      12.110669      1776.2511    
         5   0             -679.68137      1.5135582e-06  3.5092823e-06  1.5767299e-06 -5.4533764e-07  0.45965255     4.5377157e-07 -7.0152055e-07  12.110669      12.110669      12.110669      1776.2511    
         6   0             -679.68137      1.9335133e-06  1.2326929e-06  1.7944287e-06  2.7734181e-06  0.45965256     2.6706559e-07 -5.9881136e-07  12.110669      12.110669      12.110669      1776.2511    
         7   0             -679.68137      1.3870435e-06  7.7076241e-07  1.1873151e-06  2.2030528e-06  0.45965267     1.1318025e-07 -2.3113622e-07  12.110669      12.110669      12.110669      1776.2511    
         8   0             -679.68137      1.1449944e-06  5.9088024e-07  9.3098323e-07  1.9131197e-06  0.45965272     5.0716815e-08 -7.5317894e-08  12.110669      12.110669      12.110669      1776.2511    
         9   0             -679.68137      1.0095122e-06  4.5910949e-07  7.9899796e-07  1.770429e-06   0.45965274     2.5283614e-08 -2.2089008e-09  12.110669      12.110669      12.110669      1776.2511    
        10   0             -679.68137      9.4074705e-07  3.8804247e-07  7.332442e-07   1.7009545e-06  0.45965275     4.769646e-09  -1.4143661e-09  12.110669      12.110669      12.110669      1776.2511    
        11   0             -679.68137      9.3208431e-07  3.7674829e-07  7.2866926e-07  1.6908354e-06  0.45965275     2.2552666e-09 -2.1554229e-09  12.110669      12.110669      12.110669      1776.2511    
        12   0             -679.68137      9.278099e-07   3.7176746e-07  7.2594876e-07  1.6857135e-06  0.45965275     4.9853782e-10 -9.1114472e-10  12.110669      12.110669      12.110669      1776.2511    
        13   0             -679.68137      9.2599117e-07  3.7017167e-07  7.2386177e-07  1.6839401e-06  0.45965275    -1.9148312e-11 -2.2423913e-10  12.110669      12.110669      12.110669      1776.2511    
        14   0             -679.68137      9.2570725e-07  3.6988902e-07  7.2361153e-07  1.6836212e-06  0.45965275    -2.0294639e-11 -3.9381291e-11  12.110669      12.110669      12.110669      1776.2511    
        15   0             -679.68137      9.2564716e-07  3.6985053e-07  7.2352228e-07  1.6835687e-06  0.45965275    -7.825109e-12   4.0977292e-12  12.110669      12.110669      12.110669      1776.2511    
        16   0             -679.68137      9.2566276e-07  3.6984721e-07  7.2354549e-07  1.6835956e-06  0.45965275    -8.4888614e-12  1.2892848e-11  12.110669      12.110669      12.110669      1776.2511    
        17   0             -679.68137      9.2566384e-07  3.6983879e-07  7.2355693e-07  1.6835958e-06  0.45965275     9.6581646e-13  1.0751249e-11  12.110669      12.110669      12.110669      1776.2511    
        18   0             -679.68137      9.25646e-07    3.6982975e-07  7.2354438e-07  1.6835639e-06  0.45965275    -2.2221511e-12  8.9527333e-12  12.110669      12.110669      12.110669      1776.2511    
        19   0             -679.68137      9.2565277e-07  3.6983556e-07  7.2355395e-07  1.6835688e-06  0.45965275    -3.9500588e-12  9.6894346e-12  12.110669      12.110669      12.110669      1776.2511    
        20   0             -679.68137      9.2567219e-07  3.6984592e-07  7.2360025e-07  1.6835704e-06  0.45965275     1.0601886e-12  4.7555161e-12  12.110669      12.110669      12.110669      1776.2511    
        21   0             -679.68137      9.2570409e-07  3.6988062e-07  7.2361558e-07  1.6836161e-06  0.45965275    -5.1162388e-12 -4.045036e-12   12.110669      12.110669      12.110669      1776.2511    
        22   0             -679.68137      9.256786e-07   3.6984788e-07  7.236003e-07   1.6835876e-06  0.45965275    -5.8900777e-12 -9.6593993e-12  12.110669      12.110669      12.110669      1776.2511    
Loop time of 0.002682 on 1 procs for 18 steps with 128 atoms

0.0% CPU use with 1 MPI tasks x 1 OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
      -679.68136611094  -679.681366147366  -679.681366147371
  Force two-norm initial, final = 0.00074028562 5.4161486e-11
  Force max component initial, final = 9.5061197e-05 8.692852e-12
  Final line search alpha, max atom move = 1 8.692852e-12
  Iterations, force evaluations = 18 36

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.001576   | 0.001576   | 0.001576   |   0.0 | 58.76
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 4.6e-05    | 4.6e-05    | 4.6e-05    |   0.0 |  1.72
Output  | 0.00095    | 0.00095    | 0.00095    |   0.0 | 35.42
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 0.00011    |            |       |  4.10

Nlocal:            128 ave         128 max         128 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:            727 ave         727 max         727 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:           3712 ave        3712 max        3712 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 3712
Ave neighs/atom = 29
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal 3.69847880587168e-07
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal 7.23600304009981e-07
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal 1.6835876190412e-06
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal 0.459652753001512
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal -5.89007769019741e-12
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal -9.65939930998509e-12

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal 3.69641746118987e-05
variable C2neg equal ${d2}
variable C2neg equal 7.23379145113472e-05
variable C3neg equal ${d3}
variable C3neg equal 0.000168335749743635
variable C4neg equal ${d4}
variable C4neg equal -2.54771399854218e-09
variable C5neg equal ${d5}
variable C5neg equal 1.47141372879557e-09
variable C6neg equal ${d6}
variable C6neg equal 45.9652753002589

# Reset box and simulation parameters

clear
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
Loaded 1 plugins from D:\Program Files (x86)\LAMMPS 64-bit 15Jun2023\plugins
box tilt large

The 'box' command has been removed and will be ignored

read_restart ../elastic_constant/restart.equil
Reading restart file ...
  restart file = 15 Jun 2023, LAMMPS = 15 Jun 2023
  restoring atom style atomic from restart
  triclinic box = (0.00066570839 0.00066570839 0.00066570839) to (12.111334 12.111334 12.111334) with tilt (0 0 0)
  1 by 1 by 1 MPI processor grid
  pair style eam/alloy stores no restart info
  128 atoms
  read_restart CPU = 0.001 seconds
include ../elastic_constant/potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# Choose potential
pair_style	eam/alloy
pair_coeff * * ../V.eam.alloy V
Reading eam/alloy potential file ../V.eam.alloy with DATE: 2025-04-20

# Setup neighbor style
neighbor 1.0 nsq
neigh_modify once no every 1 delay 0 check yes

# Setup minimization style
min_style	     cg
min_modify	     dmax ${dmax} line quadratic
min_modify	     dmax 0.01 line quadratic

# Setup output
thermo		1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 1e-06*${len0}
variable delta equal 1e-06*12.1106685832227
variable deltaxy equal ${up}*xy
variable deltaxy equal 1e-06*xy
variable deltaxz equal ${up}*xz
variable deltaxz equal 1e-06*xz
variable deltayz equal ${up}*yz
variable deltayz equal 1e-06*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"
change_box all xy delta ${delta} remap units box
change_box all xy delta 1.21106685832227e-05 remap units box
Changing box ...
  triclinic box = (0.00066570839 0.00066570839 0.00066570839) to (12.111334 12.111334 12.111334) with tilt (1.2110669e-05 0 0)

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 5.7908507
  ghost atom cutoff = 5.7908507
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/nsq/newton
      stencil: none
      bin: none
Per MPI rank memory allocation (min/avg/max) = 4.44 | 4.44 | 4.44 Mbytes
   Step          Temp          PotEng         Press           Pxx            Pyy            Pzz            Pxy            Pxz            Pyz             Lx             Ly             Lz           Volume    
         4   0             -679.68137      4.4802554e-05  4.4420214e-05  3.3176303e-05  5.6811146e-05 -0.45964408     2.5119679e-06 -4.9044556e-06  12.110669      12.110669      12.110669      1776.2511    
         5   0             -679.68137      1.5135995e-06  3.5093009e-06  1.5767737e-06 -5.45276e-07   -0.45965296     4.5376636e-07 -7.0152766e-07  12.110669      12.110669      12.110669      1776.2511    
         6   0             -679.68137      1.9335095e-06  1.2326828e-06  1.7944464e-06  2.7733994e-06 -0.45965295     2.6705385e-07 -5.9881287e-07  12.110669      12.110669      12.110669      1776.2511    
         7   0             -679.68137      1.3870116e-06  7.7075157e-07  1.1872666e-06  2.2030168e-06 -0.45965284     1.1318282e-07 -2.3114766e-07  12.110669      12.110669      12.110669      1776.2511    
         8   0             -679.68137      1.1450564e-06  5.9092503e-07  9.3105847e-07  1.9131856e-06 -0.45965279     5.0711754e-08 -7.532646e-08   12.110669      12.110669      12.110669      1776.2511    
         9   0             -679.68137      1.0094973e-06  4.5911166e-07  7.9897522e-07  1.7704052e-06 -0.45965277     2.5298364e-08 -2.225073e-09   12.110669      12.110669      12.110669      1776.2511    
        10   0             -679.68137      9.407247e-07   3.8801744e-07  7.332313e-07   1.7009254e-06 -0.45965276     4.7397634e-09 -1.4400914e-09  12.110669      12.110669      12.110669      1776.2511    
        11   0             -679.68137      9.3207937e-07  3.7673966e-07  7.2864286e-07  1.6908556e-06 -0.45965275     2.2376217e-09 -2.1622176e-09  12.110669      12.110669      12.110669      1776.2511    
        12   0             -679.68137      9.2781671e-07  3.7177524e-07  7.2595735e-07  1.6857176e-06 -0.45965275     5.0823957e-10 -9.1421948e-10  12.110669      12.110669      12.110669      1776.2511    
        13   0             -679.68137      9.2599565e-07  3.7016845e-07  7.2390078e-07  1.6839177e-06 -0.45965275    -2.0853066e-11 -1.9262733e-10  12.110669      12.110669      12.110669      1776.2511    
        14   0             -679.68137      9.2565282e-07  3.6983765e-07  7.2352713e-07  1.6835937e-06 -0.45965275    -1.9236535e-11 -2.2172032e-11  12.110669      12.110669      12.110669      1776.2511    
        15   0             -679.68137      9.2565832e-07  3.6985419e-07  7.2353889e-07  1.6835819e-06 -0.45965275    -4.2021619e-12 -8.9215183e-12  12.110669      12.110669      12.110669      1776.2511    
        16   0             -679.68137      9.2566146e-07  3.6986018e-07  7.2355615e-07  1.6835681e-06 -0.45965275     1.5455618e-11  1.0993658e-11  12.110669      12.110669      12.110669      1776.2511    
        17   0             -679.68137      9.2564442e-07  3.6983011e-07  7.2353443e-07  1.6835687e-06 -0.45965275     1.0411149e-11 -9.7985615e-12  12.110669      12.110669      12.110669      1776.2511    
        18   0             -679.68137      9.2564161e-07  3.6983621e-07  7.2353647e-07  1.6835522e-06 -0.45965275     8.6010016e-12  1.361895e-11   12.110669      12.110669      12.110669      1776.2511    
        19   0             -679.68137      9.2566026e-07  3.6985788e-07  7.2355076e-07  1.6835721e-06 -0.45965275    -2.1166487e-13 -1.2182349e-11  12.110669      12.110669      12.110669      1776.2511    
        20   0             -679.68137      9.2567992e-07  3.6985602e-07  7.2360408e-07  1.6835797e-06 -0.45965275    -4.27681e-12   -4.2520251e-12  12.110669      12.110669      12.110669      1776.2511    
        21   0             -679.68137      9.2567176e-07  3.6984851e-07  7.2358113e-07  1.6835856e-06 -0.45965275    -1.9235037e-13  7.2278388e-13  12.110669      12.110669      12.110669      1776.2511    
        22   0             -679.68137      9.257065e-07   3.6989519e-07  7.2360671e-07  1.6836176e-06 -0.45965275    -7.8508107e-12  1.6550597e-11  12.110669      12.110669      12.110669      1776.2511    
Loop time of 0.002395 on 1 procs for 18 steps with 128 atoms

0.0% CPU use with 1 MPI tasks x 1 OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -679.681366110943  -679.681366147368   -679.68136614737
  Force two-norm initial, final = 0.00074028515 5.9185798e-11
  Force max component initial, final = 9.5061351e-05 9.7711284e-12
  Final line search alpha, max atom move = 1 9.7711284e-12
  Iterations, force evaluations = 18 36

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.001446   | 0.001446   | 0.001446   |   0.0 | 60.38
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 5.2e-05    | 5.2e-05    | 5.2e-05    |   0.0 |  2.17
Output  | 0.000807   | 0.000807   | 0.000807   |   0.0 | 33.70
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 9e-05      |            |       |  3.76

Nlocal:            128 ave         128 max         128 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:            727 ave         727 max         727 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:           3712 ave        3712 max        3712 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 3712
Ave neighs/atom = 29
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pe
variable e1 equal ${tmp}
variable e1 equal -679.68136614737
variable tmp equal press
variable p1 equal ${tmp}
variable p1 equal 9.25706504646639e-07
variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal 3.69895190570205e-07
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal 7.23606707926601e-07
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal 1.68361761544311e-06
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal -0.45965275298464
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal -7.850810719326e-12
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal 1.65505974292906e-11

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal -3.69689056102024e-05
variable C2pos equal ${d2}
variable C2pos equal -7.23385549030092e-05
variable C3pos equal ${d3}
variable C3pos equal -0.000168338749383826
variable C4pos equal ${d4}
variable C4pos equal -7.32856753853902e-11
variable C5pos equal ${d5}
variable C5pos equal -1.27534042588271e-09
variable C6pos equal ${d6}
variable C6pos equal 45.9652752983563

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C16 equal 0.5*(${C1neg}+${C1pos})
variable C16 equal 0.5*(3.69641746118987e-05+${C1pos})
variable C16 equal 0.5*(3.69641746118987e-05+-3.69689056102024e-05)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C26 equal 0.5*(${C2neg}+${C2pos})
variable C26 equal 0.5*(7.23379145113472e-05+${C2pos})
variable C26 equal 0.5*(7.23379145113472e-05+-7.23385549030092e-05)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C36 equal 0.5*(${C3neg}+${C3pos})
variable C36 equal 0.5*(0.000168335749743635+${C3pos})
variable C36 equal 0.5*(0.000168335749743635+-0.000168338749383826)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C46 equal 0.5*(${C4neg}+${C4pos})
variable C46 equal 0.5*(-2.54771399854218e-09+${C4pos})
variable C46 equal 0.5*(-2.54771399854218e-09+-7.32856753853902e-11)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C56 equal 0.5*(${C5neg}+${C5pos})
variable C56 equal 0.5*(1.47141372879557e-09+${C5pos})
variable C56 equal 0.5*(1.47141372879557e-09+-1.27534042588271e-09)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C66 equal 0.5*(${C6neg}+${C6pos})
variable C66 equal 0.5*(45.9652753002589+${C6pos})
variable C66 equal 0.5*(45.9652753002589+45.9652752983563)

# Delete dir to make sure it is not reused

variable dir delete

# Output final values

variable C11all equal ${C11}
variable C11all equal 232.481914710997
variable C22all equal ${C22}
variable C22all equal 232.481914710909
variable C33all equal ${C33}
variable C33all equal 232.481914710273

variable C12all equal 0.5*(${C12}+${C21})
variable C12all equal 0.5*(119.361366214495+${C21})
variable C12all equal 0.5*(119.361366214495+119.361366216174)
variable C13all equal 0.5*(${C13}+${C31})
variable C13all equal 0.5*(119.361366214065+${C31})
variable C13all equal 0.5*(119.361366214065+119.361366215996)
variable C23all equal 0.5*(${C23}+${C32})
variable C23all equal 0.5*(119.361366214537+${C32})
variable C23all equal 0.5*(119.361366214537+119.361366217874)

variable C44all equal ${C44}
variable C44all equal 45.9652752984575
variable C55all equal ${C55}
variable C55all equal 45.9652752994403
variable C66all equal ${C66}
variable C66all equal 45.9652752993076

variable C14all equal 0.5*(${C14}+${C41})
variable C14all equal 0.5*(1.16854318400945e-09+${C41})
variable C14all equal 0.5*(1.16854318400945e-09+-3.59200982628749e-11)
variable C15all equal 0.5*(${C15}+${C51})
variable C15all equal 0.5*(-1.90489763385023e-09+${C51})
variable C15all equal 0.5*(-1.90489763385023e-09+-5.43083851883299e-11)
variable C16all equal 0.5*(${C16}+${C61})
variable C16all equal 0.5*(-2.36549915184979e-09+${C61})
variable C16all equal 0.5*(-2.36549915184979e-09+-2.54530374862637e-10)

variable C24all equal 0.5*(${C24}+${C42})
variable C24all equal 0.5*(-6.49807173100061e-10+${C42})
variable C24all equal 0.5*(-6.49807173100061e-10+-5.75118794842202e-10)
variable C25all equal 0.5*(${C25}+${C52})
variable C25all equal 0.5*(-3.0939774439974e-09+${C52})
variable C25all equal 0.5*(-3.0939774439974e-09+9.02778753568395e-10)
variable C26all equal 0.5*(${C26}+${C62})
variable C26all equal 0.5*(-3.20195830997249e-10+${C62})
variable C26all equal 0.5*(-3.20195830997249e-10+6.02575978903629e-10)

variable C34all equal 0.5*(${C34}+${C43})
variable C34all equal 0.5*(7.11167675448857e-10+${C43})
variable C34all equal 0.5*(7.11167675448857e-10+8.15484881474385e-10)
variable C35all equal 0.5*(${C35}+${C53})
variable C35all equal 0.5*(-3.48535635975086e-09+${C53})
variable C35all equal 0.5*(-3.48535635975086e-09+-3.50305804132125e-10)
variable C36all equal 0.5*(${C36}+${C63})
variable C36all equal 0.5*(-1.49982009549755e-09+${C63})
variable C36all equal 0.5*(-1.49982009549755e-09+3.84722815206805e-10)

variable C45all equal 0.5*(${C45}+${C54})
variable C45all equal 0.5*(-3.0171259215615e-11+${C54})
variable C45all equal 0.5*(-3.0171259215615e-11+-7.01999096581075e-10)
variable C46all equal 0.5*(${C46}+${C64})
variable C46all equal 0.5*(-1.31049983696379e-09+${C64})
variable C46all equal 0.5*(-1.31049983696379e-09+-8.51354240719243e-10)
variable C56all equal 0.5*(${C56}+${C65})
variable C56all equal 0.5*(9.803665145643e-11+${C65})
variable C56all equal 0.5*(9.803665145643e-11+-1.61250886995496e-09)

# Average moduli for cubic crystals

variable C11cubic equal (${C11all}+${C22all}+${C33all})/3.0
variable C11cubic equal (232.481914710997+${C22all}+${C33all})/3.0
variable C11cubic equal (232.481914710997+232.481914710909+${C33all})/3.0
variable C11cubic equal (232.481914710997+232.481914710909+232.481914710273)/3.0
variable C12cubic equal (${C12all}+${C13all}+${C23all})/3.0
variable C12cubic equal (119.361366215334+${C13all}+${C23all})/3.0
variable C12cubic equal (119.361366215334+119.361366215031+${C23all})/3.0
variable C12cubic equal (119.361366215334+119.361366215031+119.361366216205)/3.0
variable C44cubic equal (${C44all}+${C55all}+${C66all})/3.0
variable C44cubic equal (45.9652752984575+${C55all}+${C66all})/3.0
variable C44cubic equal (45.9652752984575+45.9652752994403+${C66all})/3.0
variable C44cubic equal (45.9652752984575+45.9652752994403+45.9652752993076)/3.0

variable bulkmodulus equal (${C11cubic}+2*${C12cubic})/3.0
variable bulkmodulus equal (232.481914710726+2*${C12cubic})/3.0
variable bulkmodulus equal (232.481914710726+2*119.361366215523)/3.0
variable shearmodulus1 equal ${C44cubic}
variable shearmodulus1 equal 45.9652752990685
variable shearmodulus2 equal (${C11cubic}-${C12cubic})/2.0
variable shearmodulus2 equal (232.481914710726-${C12cubic})/2.0
variable shearmodulus2 equal (232.481914710726-119.361366215523)/2.0
variable poissonratio equal 1.0/(1.0+${C11cubic}/${C12cubic})
variable poissonratio equal 1.0/(1.0+232.481914710726/${C12cubic})
variable poissonratio equal 1.0/(1.0+232.481914710726/119.361366215523)

# For Stillinger-Weber silicon, the analytical results
# are known to be (E. R. Cowley, 1988):
#               C11 = 151.4 GPa
#               C12 = 76.4 GPa
#               C44 = 56.4 GPa

print "========================================="
=========================================
print "Components of the Elastic Constant Tensor"
Components of the Elastic Constant Tensor
print "========================================="
=========================================

print "Elastic Constant C11all = ${C11all} ${cunits}"
Elastic Constant C11all = 232.481914710997 GPa
print "Elastic Constant C22all = ${C22all} ${cunits}"
Elastic Constant C22all = 232.481914710909 GPa
print "Elastic Constant C33all = ${C33all} ${cunits}"
Elastic Constant C33all = 232.481914710273 GPa

print "Elastic Constant C12all = ${C12all} ${cunits}"
Elastic Constant C12all = 119.361366215334 GPa
print "Elastic Constant C13all = ${C13all} ${cunits}"
Elastic Constant C13all = 119.361366215031 GPa
print "Elastic Constant C23all = ${C23all} ${cunits}"
Elastic Constant C23all = 119.361366216205 GPa

print "Elastic Constant C44all = ${C44all} ${cunits}"
Elastic Constant C44all = 45.9652752984575 GPa
print "Elastic Constant C55all = ${C55all} ${cunits}"
Elastic Constant C55all = 45.9652752994403 GPa
print "Elastic Constant C66all = ${C66all} ${cunits}"
Elastic Constant C66all = 45.9652752993076 GPa

print "Elastic Constant C14all = ${C14all} ${cunits}"
Elastic Constant C14all = 5.66311542873288e-10 GPa
print "Elastic Constant C15all = ${C15all} ${cunits}"
Elastic Constant C15all = -9.7960300951928e-10 GPa
print "Elastic Constant C16all = ${C16all} ${cunits}"
Elastic Constant C16all = -1.31001476335621e-09 GPa

print "Elastic Constant C24all = ${C24all} ${cunits}"
Elastic Constant C24all = -6.12462983971132e-10 GPa
print "Elastic Constant C25all = ${C25all} ${cunits}"
Elastic Constant C25all = -1.0955993452145e-09 GPa
print "Elastic Constant C26all = ${C26all} ${cunits}"
Elastic Constant C26all = 1.4119007395319e-10 GPa

print "Elastic Constant C34all = ${C34all} ${cunits}"
Elastic Constant C34all = 7.63326278461621e-10 GPa
print "Elastic Constant C35all = ${C35all} ${cunits}"
Elastic Constant C35all = -1.91783108194149e-09 GPa
print "Elastic Constant C36all = ${C36all} ${cunits}"
Elastic Constant C36all = -5.57548640145372e-10 GPa

print "Elastic Constant C45all = ${C45all} ${cunits}"
Elastic Constant C45all = -3.66085177898345e-10 GPa
print "Elastic Constant C46all = ${C46all} ${cunits}"
Elastic Constant C46all = -1.08092703884152e-09 GPa
print "Elastic Constant C56all = ${C56all} ${cunits}"
Elastic Constant C56all = -7.57236109249265e-10 GPa

print "========================================="
=========================================
print "Average properties for a cubic crystal"
Average properties for a cubic crystal
print "========================================="
=========================================

print "Bulk Modulus = ${bulkmodulus} ${cunits}"
Bulk Modulus = 157.068215713924 GPa
print "Shear Modulus 1 = ${shearmodulus1} ${cunits}"
Shear Modulus 1 = 45.9652752990685 GPa
print "Shear Modulus 2 = ${shearmodulus2} ${cunits}"
Shear Modulus 2 = 56.5602742476015 GPa
print "Poisson Ratio = ${poissonratio}"
Poisson Ratio = 0.339245830988436
Total wall time: 0:00:00
